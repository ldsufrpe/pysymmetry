
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentação da biblioteca pysymmetry.">
      
      
        <meta name="author" content="Leon Silva, Marcelo Pedro">
      
      
      
        <link rel="prev" href="..">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Referência da API - pysymmetry</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#referencia-da-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pysymmetry" class="md-header__button md-logo" aria-label="pysymmetry" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pysymmetry
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Referência da API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ldsufrpe/pysymmetry" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pysymmetry" class="md-nav__button md-logo" aria-label="pysymmetry" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    pysymmetry
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ldsufrpe/pysymmetry" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bem-vindo à documentação do pysymmetry
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Referência da API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Referência da API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modulo-pysymmetry" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo pysymmetry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group" class="md-nav__link">
    <span class="md-ellipsis">
      Group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_eigenvalue_reduction_new" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_eigenvalue_reduction_new
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_matrix
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_matrix_new_off_filter_optimization" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_matrix_new_off_filter_optimization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.irreducible_representations" class="md-nav__link">
    <span class="md-ellipsis">
      irreducible_representations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.isotypic_base" class="md-nav__link">
    <span class="md-ellipsis">
      isotypic_base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.isotypic_projection" class="md-nav__link">
    <span class="md-ellipsis">
      isotypic_projection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.projection" class="md-nav__link">
    <span class="md-ellipsis">
      projection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.quick_block_prevision" class="md-nav__link">
    <span class="md-ellipsis">
      quick_block_prevision
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.regular_representation" class="md-nav__link">
    <span class="md-ellipsis">
      regular_representation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#modulo-pysymmetry" class="md-nav__link">
    <span class="md-ellipsis">
      Módulo pysymmetry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group" class="md-nav__link">
    <span class="md-ellipsis">
      Group
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_eigenvalue_reduction_new" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_eigenvalue_reduction_new
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_matrix
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.base_change_matrix_new_off_filter_optimization" class="md-nav__link">
    <span class="md-ellipsis">
      base_change_matrix_new_off_filter_optimization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.irreducible_representations" class="md-nav__link">
    <span class="md-ellipsis">
      irreducible_representations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.isotypic_base" class="md-nav__link">
    <span class="md-ellipsis">
      isotypic_base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.isotypic_projection" class="md-nav__link">
    <span class="md-ellipsis">
      isotypic_projection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.projection" class="md-nav__link">
    <span class="md-ellipsis">
      projection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.quick_block_prevision" class="md-nav__link">
    <span class="md-ellipsis">
      quick_block_prevision
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysymmetry.Group.regular_representation" class="md-nav__link">
    <span class="md-ellipsis">
      regular_representation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="referencia-da-api">Referência da API</h1>
<p>Esta é a referência automática da API gerada a partir do código-fonte.</p>
<h2 id="modulo-pysymmetry">Módulo <code>pysymmetry</code></h2>


<div class="doc doc-object doc-class">



<a id="pysymmetry.Group"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sage.groups.perm_gps.permgroup.PermutationGroup_generic">PermutationGroup_generic</span></code></p>








              <details class="quote">
                <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Group</span><span class="p">(</span><span class="n">PermutationGroup_generic</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">per_group</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">per_group</span><span class="p">,</span> <span class="n">PermutationGroup_generic</span><span class="p">):</span>
            <span class="n">per_group</span> <span class="o">=</span> <span class="n">per_group</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">matrix</span><span class="p">:</span>

            <span class="n">check_matrix</span> <span class="o">=</span> <span class="nb">all</span><span class="p">([</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="p">(</span><span class="n">Matrix_integer_dense</span><span class="p">,</span> <span class="n">Matrix_integer_sparse</span><span class="p">))</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">per_group</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">check_matrix</span><span class="p">:</span>

                <span class="n">per_group</span> <span class="o">=</span> <span class="n">MatrixGroup</span><span class="p">(</span><span class="n">per_group</span><span class="p">)</span><span class="o">.</span><span class="n">as_permutation_group</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;no matrices&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">per_group</span><span class="p">,</span>
                         <span class="n">gap_group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">canonicalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">category</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">field</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_hom_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Hom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">**</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">**</span><span class="n">n</span><span class="p">)</span>    

    <span class="k">def</span><span class="w"> </span><span class="nf">_regular_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">g</span><span class="p">):</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
        <span class="n">new_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="o">*</span><span class="n">element</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">elements</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">new_elements</span><span class="p">]</span>
        <span class="n">base</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">())[:,</span> <span class="n">index</span><span class="p">]</span>
        <span class="c1">#base = base  # sage matrix</span>
        <span class="n">H</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hom_</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">())</span>        
        <span class="k">return</span> <span class="n">Dg_Linear_Transformation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>  <span class="c1"># class Representation</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">regular_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the regular representation defined over the group.</span>

<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>

<span class="sd">        OUTPUT: The regular representation defined over the Group given by self. </span>


<span class="sd">        EXAMPLES:</span>

<span class="sd">        We define the regular representation over the cyclic group of 4 elements ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4)) </span>
<span class="sd">            sage: reg = G.regular_representation()</span>
<span class="sd">            sage: [reg(g) for g in G]</span>
<span class="sd">            [Linear transformation associated with element g=(), represented by the non-singular matrix:</span>
<span class="sd">             [1 0 0 0]</span>
<span class="sd">             [0 1 0 0]</span>
<span class="sd">             [0 0 1 0]</span>
<span class="sd">             [0 0 0 1]</span>
<span class="sd">             Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">             ,</span>
<span class="sd">             Linear transformation associated with element g=(1,2,3,4), represented by the non-singular matrix:</span>
<span class="sd">             [0 0 0 1]</span>
<span class="sd">             [1 0 0 0]</span>
<span class="sd">             [0 1 0 0]</span>
<span class="sd">             [0 0 1 0]</span>
<span class="sd">             Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">             ,</span>
<span class="sd">             Linear transformation associated with element g=(1,3)(2,4), represented by the non-singular matrix:</span>
<span class="sd">             [0 0 1 0]</span>
<span class="sd">             [0 0 0 1]</span>
<span class="sd">             [1 0 0 0]</span>
<span class="sd">             [0 1 0 0]</span>
<span class="sd">             Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">             ,</span>
<span class="sd">             Linear transformation associated with element g=(1,4,3,2), represented by the non-singular matrix:</span>
<span class="sd">             [0 1 0 0]</span>
<span class="sd">             [0 0 1 0]</span>
<span class="sd">             [0 0 0 1]</span>
<span class="sd">             [1 0 0 0]</span>
<span class="sd">             Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">             ]</span>

<span class="sd">        We define the group of symmetries of regular hexagon and the regular representation over this group ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: G = Group(generators)</span>
<span class="sd">            sage: reg = G.regular_representation()</span>
<span class="sd">            sage: g = G.an_element()</span>
<span class="sd">            sage: reg(g)</span>
<span class="sd">            Linear transformation associated with element g=(1,3)(4,6), represented by the non-singular matrix:</span>
<span class="sd">            [0 0 0 0 0 0 0 0 1 0 0 0]</span>
<span class="sd">            [0 0 0 0 0 0 1 0 0 0 0 0]</span>
<span class="sd">            [0 0 0 0 0 0 0 1 0 0 0 0]</span>
<span class="sd">            [0 0 0 0 0 0 0 0 0 0 0 1]</span>
<span class="sd">            [0 0 0 0 0 0 0 0 0 1 0 0]</span>
<span class="sd">            [0 0 0 0 0 0 0 0 0 0 1 0]</span>
<span class="sd">            [0 1 0 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">            [0 0 1 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">            [1 0 0 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">            [0 0 0 0 1 0 0 0 0 0 0 0]</span>
<span class="sd">            [0 0 0 0 0 1 0 0 0 0 0 0]</span>
<span class="sd">            [0 0 0 1 0 0 0 0 0 0 0 0]</span>
<span class="sd">            Representation space: Vector space of dimension 12 over Algebraic Field</span>

<span class="sd">        We define the regular representation over the symmetric group of 4 simbols ::</span>

<span class="sd">            sage: H = SymmetricGroup(4)</span>
<span class="sd">            sage: G = Group(H);</span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: g = G.an_element()</span>
<span class="sd">            sage: reg(g)</span>
<span class="sd">            Linear transformation associated with element g=(1,3,4), represented by the non-singular matrix:</span>
<span class="sd">            24 x 24 dense matrix over Algebraic Field</span>
<span class="sd">            Representation space: Vector space of dimension 24 over Algebraic Field</span>


<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>                


        <span class="c1"># usei metodos do orderpy pra deixar os calculos mais rapidos</span>
        <span class="c1">#NOTA: precisa verificar se g esta em Group</span>
        <span class="n">matrices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_regular_</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gens</span><span class="p">()]</span>
        <span class="n">M</span> <span class="o">=</span> <span class="n">MatrixGroup</span><span class="p">(</span><span class="n">matrices</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MapRepresentation</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">M</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_regular_</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">irreducible_representations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span> <span class="c1">##Nota: Como documentar saida com o True</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the number n of irreducible representations of self and the irreducibles representations.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``show_table`` -- a boolean (default: `True`) ; shows a table of each irreducible representation applied at the generators of self.</span>

<span class="sd">        OUTPUT: If show_table=True; return number of irreducible representions and irreducible representions themselves.</span>
<span class="sd">                If show_table=False; return the irreducible representions themselves. </span>


<span class="sd">        EXAMPLES:</span>

<span class="sd">        We define the symmetric group of 4 simbols and calculate its irreducible representations ::</span>

<span class="sd">            sage: G = Group(SymmetricGroup(4));</span>
<span class="sd">            sage: n, irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">            sage: n</span>
<span class="sd">            5</span>
<span class="sd">            sage: irr(0)</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2), (1,2,3,4)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators ([1], [1]).</span>

<span class="sd">            sage: irr(4)</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2), (1,2,3,4)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators (</span>
<span class="sd">            [ 0  1  0]  [ 0  0 -1]</span>
<span class="sd">            [ 1  0  0]  [ 0  1  0]</span>
<span class="sd">            [ 0  0 -1], [ 1  0  0]</span>
<span class="sd">            ).</span>

<span class="sd">        We define the representation by permutation on the cyclic group calculate its irreducible representations ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(6))</span>
<span class="sd">            sage: irr = G.irreducible_representations(True) #Irreducible representations</span>
<span class="sd">            ||||||SAIDA A SER PENSADA|||||||</span>

<span class="sd">        We calculate the irreducible representations of the group of symmetries of a regular tetrahedron ::</span>

<span class="sd">            sage: G = Group(AlternatingGroup(4));</span>
<span class="sd">            sage: irr = G.irreducible_representations(True) #Irreducible representations</span>
<span class="sd">            sage: for j in range(n):</span>
<span class="sd">             ||||||SAIDA A SER PENSADA|||||||</span>

<span class="sd">        We define the group of symmetries of regular hexagon and calculate its irreducible representations  ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: G = Group(PermutationGroup(generators))</span>
<span class="sd">            sage: n,irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">            sage: for j in range(n):</span>
<span class="sd">                    print(irr(j))</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators ([1], [1]).</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators ([1], [-1]).</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators ([-1], [-1]).</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Integer Ring with 2 generators ([-1], [1]).</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Universal Cyclotomic Field with 2 generators (</span>
<span class="sd">            [E(3)^2      0]  [0 1]</span>
<span class="sd">            [     0   E(3)], [1 0]</span>
<span class="sd">            ).</span>
<span class="sd">            Map: </span>
<span class="sd">             From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">             To: Matrix group over Universal Cyclotomic Field with 2 generators (</span>
<span class="sd">            [-E(3)^2       0]  [ 0 -1]</span>
<span class="sd">            [      0   -E(3)], [-1  0]</span>
<span class="sd">            ).</span>

<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>


        <span class="n">irr</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">IrreducibleRepresentations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">gens</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">GeneratorsOfGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">generators</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">gap</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">gens</span><span class="p">))</span>
        <span class="n">matrices_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">irr</span><span class="p">:</span>
            <span class="n">matrices</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">matrix</span><span class="p">(</span><span class="n">sage_eval</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gap</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">k</span><span class="p">))))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">generators</span>
                    <span class="p">]</span>
            <span class="n">matrices_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrices</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">irr_rep</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>            
            <span class="n">r</span> <span class="o">=</span> <span class="n">representation</span><span class="p">(</span><span class="n">generators</span><span class="p">,</span> <span class="n">matrices_list</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">r</span>

        <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrices_list</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_table</span><span class="p">:</span>

            <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>

            <span class="n">matrices_rep</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">view</span><span class="p">((</span><span class="n">irr_rep</span><span class="p">(</span><span class="n">k</span><span class="p">)(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">matrix</span><span class="p">(),</span> <span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">elements</span>
                        <span class="p">]</span>
            <span class="n">_table</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrices_rep</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrices_rep</span><span class="p">),</span> <span class="n">n</span><span class="p">)]</span>
            <span class="n">header_row</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">]</span>
            <span class="n">header_column</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s1">&#39;$r^&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="s1">&#39;$&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
            <span class="n">header_column</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>

            <span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="n">_table</span><span class="p">,</span>
                      <span class="n">header_row</span><span class="o">=</span><span class="n">header_row</span><span class="p">,</span>
                      <span class="n">header_column</span><span class="o">=</span><span class="n">header_column</span><span class="p">,</span>
                      <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
            <span class="n">show</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">irr_rep</span>

        <span class="k">return</span> <span class="n">N</span><span class="p">,</span> <span class="n">irr_rep</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">natural_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">QQbar</span><span class="p">):</span>
    	<span class="n">gens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
    	<span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">gens</span><span class="p">]</span>
    	<span class="k">return</span> <span class="n">representation</span><span class="p">(</span><span class="n">gens</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">isotypic_projection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list containing the matrices associated to projections operators over the isotypic components(or conglomerates) of right.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over the same group as self.</span>

<span class="sd">        OUTPUT: A list of matrices representing the projections operators over the isotypics subespaces of right.</span>


<span class="sd">        EXAMPLES:</span>

<span class="sd">        We define the symmetric group of 3 simbols and the isotypic projections associated to the regular representation of this group ::</span>

<span class="sd">            sage: G = Group(SymmetricGroup(3));</span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: G.isotypic_projection(reg)</span>
<span class="sd">             [</span>
<span class="sd">             [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [ 2 -1 -1  0  0  0]</span>
<span class="sd">             [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1  2 -1  0  0  0]</span>
<span class="sd">             [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1 -1  2  0  0  0]</span>
<span class="sd">             [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0  2 -1 -1]</span>
<span class="sd">             [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0 -1  2 -1]</span>
<span class="sd">             [1 1 1 1 1 1], [-1 -1 -1  1  1  1], [ 0  0  0 -1 -1  2]</span>
<span class="sd">              ]</span>

<span class="sd">        We calculate an irreducible representation of G, and the isotypic projection associated ::</span>

<span class="sd">            sage: n,irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">            sage: G.isotypic_projection(irr(2))</span>
<span class="sd">            [</span>
<span class="sd">            [3 0]</span>
<span class="sd">            [0 3]</span>
<span class="sd">            ]</span>


<span class="sd">        We define the representation by permutation on the cyclic group and calculate the isotypic projectors ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G.isotypic_projection(rep)</span>
<span class="sd">            [</span>
<span class="sd">            [1 1 1 1]  [ 1 -1  1 -1]  [   1 -1*I   -1  1*I]  [   1  1*I   -1 -1*I]</span>
<span class="sd">            [1 1 1 1]  [-1  1 -1  1]  [ 1*I    1 -1*I   -1]  [-1*I    1  1*I   -1]</span>
<span class="sd">            [1 1 1 1]  [ 1 -1  1 -1]  [  -1  1*I    1 -1*I]  [  -1 -1*I    1  1*I]</span>
<span class="sd">            [1 1 1 1], [-1  1 -1  1], [-1*I   -1  1*I    1], [ 1*I   -1 -1*I    1]</span>
<span class="sd">            ]</span>


<span class="sd">        We define a representation the group of symmetries of regular hexagon and calculate their isotypic projectors ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: rotation_pi_over_3, reflexion_about_x = matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])</span>
<span class="sd">            sage: matrices = [block_diagonal_matrix(rotation_pi_over_3, rotation_pi_over_3),block_diagonal_matrix(reflexion_about_x, reflexion_about_x)];</span>
<span class="sd">            sage: rep = representation(generators, matrices, field=SR)</span>
<span class="sd">            sage: G = rep.domain()</span>
<span class="sd">            sage: G.isotypic_projection(rep)</span>
<span class="sd">            [</span>
<span class="sd">            [6 0 0 0]</span>
<span class="sd">            [0 6 0 0]</span>
<span class="sd">            [0 0 6 0]</span>
<span class="sd">            [0 0 0 6]</span>
<span class="sd">            ]</span>

<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>

<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">proj_lst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>
                <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">conjugate</span><span class="p">(</span><span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">character</span><span class="p">())</span><span class="o">*</span><span class="n">right</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>  <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
                <span class="n">proj_lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">proj_lst</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">isotypic_base</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rep</span><span class="p">,</span> <span class="n">isotypic_components</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list with the basis for each isotypic components of rep or the basis change matrix associated to the isotypic decomposition.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``rep`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">        - ``isotypic_components`` -- a boolean (default: `False`) ; if False returns the change base matrix, if True returns a list with a base for each isotypic component :: </span>

<span class="sd">        OUTPUT: A list with a basis for each isotypic subspace of rep or the change basis matrix to a form in blocks associated to isotypic components of rep.</span>


<span class="sd">        EXAMPLES:</span>

<span class="sd">        We define the symmetric group of 3 simbols change basis matrix associated to the isotypic decomposition  ::</span>

<span class="sd">            sage: G = Group(SymmetricGroup(3));</span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: G.isotypic_base(reg, isotypic_components=False)</span>
<span class="sd">            [ 1| 1| 2 -1  0  0]</span>
<span class="sd">            [ 1| 1|-1  2  0  0]</span>
<span class="sd">            [ 1| 1|-1 -1  0  0]</span>
<span class="sd">            [ 1|-1| 0  0  2 -1]</span>
<span class="sd">            [ 1|-1| 0  0 -1  2]</span>
<span class="sd">            [ 1|-1| 0  0 -1 -1]</span>


<span class="sd">        The isotypic basis for each irreducible subspace associated to the regular representation of this group ::</span>

<span class="sd">            sage: G.isotypic_base(reg, isotypic_components=True)</span>
<span class="sd">            [</span>
<span class="sd">            [1]  [ 1]  [ 2 -1  0  0]</span>
<span class="sd">            [1]  [ 1]  [-1  2  0  0]</span>
<span class="sd">            [1]  [ 1]  [-1 -1  0  0]</span>
<span class="sd">            [1]  [-1]  [ 0  0  2 -1]</span>
<span class="sd">            [1]  [-1]  [ 0  0 -1  2]</span>
<span class="sd">            [1], [-1], [ 0  0 -1 -1]</span>
<span class="sd">            ]</span>

<span class="sd">        We define the representation by permutation on the cyclic group and calculate its isotypic decompositions ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G.isotypic_base(rep, isotypic_components=True)</span>
<span class="sd">            [</span>
<span class="sd">            [1]  [ 1]  [   1]  [   1]</span>
<span class="sd">            [1]  [-1]  [ 1*I]  [-1*I]</span>
<span class="sd">            [1]  [ 1]  [  -1]  [  -1]</span>
<span class="sd">            [1], [-1], [-1*I], [ 1*I]</span>
<span class="sd">            ]</span>

<span class="sd">            sage: change_basis = G.isotypic_base(rep, isotypic_components=False); change_basis</span>
<span class="sd">            [   1|   1|   1|   1]</span>
<span class="sd">            [   1|  -1| 1*I|-1*I]</span>
<span class="sd">            [   1|   1|  -1|  -1]</span>
<span class="sd">            [   1|  -1|-1*I| 1*I]</span>
<span class="sd">            sage: [rep(g).matrix() for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]</span>
<span class="sd">            [0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]</span>
<span class="sd">            [0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]</span>
<span class="sd">            [0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]</span>
<span class="sd">            ]</span>
<span class="sd">            sage: [change_basis.inverse()*rep(g).matrix()*change_basis for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0 0]  [   1    0    0    0]  [ 1  0  0  0]  [   1    0    0    0]</span>
<span class="sd">            [0 1 0 0]  [   0   -1    0    0]  [ 0  1  0  0]  [   0   -1    0    0]</span>
<span class="sd">            [0 0 1 0]  [   0    0  1*I    0]  [ 0  0 -1  0]  [   0    0 -1*I    0]</span>
<span class="sd">            [0 0 0 1], [   0    0    0 -1*I], [ 0  0  0 -1], [   0    0    0  1*I]</span>
<span class="sd">            ]</span>

<span class="sd">        We define a representation the group of symmetries of regular hexagon and calculate their matrix change basis(this representation is irreducible) ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G = rep.domain()</span>
<span class="sd">            sage: G.isotypic_base(rep, isotypic_components=True)</span>
<span class="sd">            [</span>
<span class="sd">            [6 0]</span>
<span class="sd">            [0 6]</span>
<span class="sd">            ]</span>


<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>

<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proj_lst</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">isotypic_projection</span><span class="p">(</span><span class="n">rep</span><span class="p">)</span>  <span class="c1">#NOTA:devemos usar sempre regular representation(pergunta)??? NAO</span>
        <span class="n">decomposition</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">matrix_from_columns</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">pivots</span><span class="p">())</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">proj_lst</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">isotypic_components</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">decomposition</span>
        <span class="n">ncols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">decomposition</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">block_matrix</span><span class="p">(</span><span class="n">decomposition</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">projection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the projection(or transfers operators) associated to irreducible subrepresentations of right.</span>

<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">        - ``i,j,k`` --  integers ; integers numbers representing the projection(or transfer) chosen;</span>
<span class="sd">                i- will choose the irreducible representation, and its range is from 0 until the number of irreducibles. ::</span>

<span class="sd">                j- choose a row of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::</span>

<span class="sd">                k- choose a column of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::</span>


<span class="sd">        OUTPUT: A matrix associated to the operator that projects over an irreducible subrepresentation of right(if j=k), or is a isomorphism between two equivalent subrepresentations of right.</span>
<span class="sd">                Whenever the irreducible, chosen by index i, it is not a subrepresentation of right this matrix will be null.</span>


<span class="sd">        EXAMPLES:</span>


<span class="sd">        We define the representation by permutation on the cyclic group of four elements and calculate its projectors  ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G.projection(0,0,0, rep)</span>
<span class="sd">            [1 1 1 1]</span>
<span class="sd">            [1 1 1 1]</span>
<span class="sd">            [1 1 1 1]</span>
<span class="sd">            [1 1 1 1]</span>
<span class="sd">            sage: n, irr = G.irreducible_representations(False)</span>
<span class="sd">            sage: list_of_projectors=[];</span>
<span class="sd">            for i in range(n): # Choosing the irreducible</span>
<span class="sd">                degree= irr(i).degree() # Calculation the degree of the irreducible</span>
<span class="sd">                j=0;# we will use the first row</span>
<span class="sd">                for k in range(degree):</span>
<span class="sd">                    projector = G.projection(i,j,k, rep);</span>
<span class="sd">                    list_of_projectors.append(projector)</span>
<span class="sd">            sage: list_of_projectors</span>
<span class="sd">            [</span>
<span class="sd">            [1 1 1 1]  [ 1 -1  1 -1]  [ 1 -I -1  I]  [ 1  I -1 -I]</span>
<span class="sd">            [1 1 1 1]  [-1  1 -1  1]  [ I  1 -I -1]  [-I  1  I -1]</span>
<span class="sd">            [1 1 1 1]  [ 1 -1  1 -1]  [-1  I  1 -I]  [-1 -I  1  I]</span>
<span class="sd">            [1 1 1 1], [-1  1 -1  1], [-I -1  I  1], [ I -1 -I  1]</span>
<span class="sd">            ]</span>


<span class="sd">        We define a representation on the group of symmetries of regular hexagon and calculate its projectors ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: matrices = [matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]]),matrix([[1,0,0],[0,-1,0],[0,0,1]])];</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G = rep.domain()</span>
<span class="sd">            sage: G.projection(0,0,0, rep)</span>
<span class="sd">            [     12       0       0]</span>
<span class="sd">            [      0       0 0.?e-18]</span>
<span class="sd">            [      0 0.?e-18       0]</span>
<span class="sd">            sage: n, irr = G.irreducible_representations(False)</span>
<span class="sd">            sage: list_of_projectors=[];</span>
<span class="sd">            for i in range(n): # Choosing the irreducible</span>
<span class="sd">                degree= irr(i).degree() # Calculation the degree of the irreducible</span>
<span class="sd">                j=0;# we will use the first row</span>
<span class="sd">                for k in range(degree):</span>
<span class="sd">                    projector = G.projection(i,j,k, rep);</span>
<span class="sd">                    list_of_projectors.append(view(projector, latex=False)) # view creates a better visualization</span>
<span class="sd">            sage: list_of_projectors</span>
<span class="sd">            [</span>
<span class="sd">            [12  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]</span>
<span class="sd">            [ 0  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]</span>
<span class="sd">            [ 0  0  0], [0 0 0], [0 0 0], [0 0 0], [0 0 0], [0 0 0],</span>

<span class="sd">            [   0    0    0]  [  0   0   0]</span>
<span class="sd">            [   0    3  3*I]  [  0   3 3*I]</span>
<span class="sd">            [   0 -3*I    3], [  0 3*I  -3]</span>
<span class="sd">            ]</span>


<span class="sd">        We define the regular representation over the symmetric group of 3 simbols and we calculate one of its projectors ::</span>

<span class="sd">            sage: G = Group(SymmetricGroup(3)) </span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: view(G.projection(2,1,1, reg),latex=False) # The function view creates a better visualization</span>
<span class="sd">            [                   1  1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    0                    0                    0]</span>
<span class="sd">            [-1/2*I*sqrt(3) - 1/2                    1  1/2*I*sqrt(3) - 1/2                    0                    0                    0]</span>
<span class="sd">            [ 1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    1                    0                    0                    0]</span>
<span class="sd">            [                   0                    0                    0                    1 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2]</span>
<span class="sd">            [                   0                    0                    0  1/2*I*sqrt(3) - 1/2                    1 -1/2*I*sqrt(3) - 1/2]</span>
<span class="sd">            [                   0                    0                    0 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2                    1]</span>

<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>


        <span class="c1">#Nota:   ver como melhorar a posição do left</span>
        <span class="c1">#Nota: right pode inclusive ser a irredutivel (pergunta)</span>
        <span class="c1">###Melhorar este nome opcoes: transfer isomorphism </span>
        <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">matrix</span><span class="p">(</span><span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">g</span><span class="o">.</span><span class="n">inverse</span><span class="p">()))[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">matrix</span><span class="p">(</span><span class="n">right</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>  <span class="c1">#Nota:</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">base_change_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the basis change matrix associated to a decomposition of right into irreducibles representations.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over the same group as self.</span>

<span class="sd">        OUTPUT: A change basis matrix that decomposes right in its irreducible components.</span>


<span class="sd">        EXAMPLES:</span>


<span class="sd">        We define the representation by permutation on the cyclic group of four elements and calculate its decomposition into irreducibles(Note that in this case because multiplicity we get the same result with the isotypic base)  ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: A = G.base_change_matrix(rep); A</span>
<span class="sd">            [ 1  1  1  1]</span>
<span class="sd">            [ 1 -1  I -I]</span>
<span class="sd">            [ 1  1 -1 -1]</span>
<span class="sd">            [ 1 -1 -I  I]</span>

<span class="sd">            sage: [rep(g).matrix() for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]</span>
<span class="sd">            [0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]</span>
<span class="sd">            [0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]</span>
<span class="sd">            [0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]</span>
<span class="sd">            ]</span>

<span class="sd">            sage: [A.inverse()*rep(g).matrix()*A for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0 0]  [ 1  0  0  0]  [ 1  0  0  0]  [ 1  0  0  0]</span>
<span class="sd">            [0 1 0 0]  [ 0 -1  0  0]  [ 0  1  0  0]  [ 0 -1  0  0]</span>
<span class="sd">            [0 0 1 0]  [ 0  0  I  0]  [ 0  0 -1  0]  [ 0  0 -I  0]</span>
<span class="sd">            [0 0 0 1], [ 0  0  0 -I], [ 0  0  0 -1], [ 0  0  0  I]</span>
<span class="sd">            ]</span>



<span class="sd">        We define a representation on the group of symmetries of regular hexagon and calculate its matrix change basis to decomposing into irreducible blocks ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: P = matrix([[5,3,4],[0,3,4],[0,0,4]]);P</span>
<span class="sd">            sage: matrices = [P.inverse()*matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]])*P,P.inverse()*matrix([[1,0,0],[0,-1,0],[0,0,1]])*P];</span>
<span class="sd">            sage: rep = representation(generators, matrices, field=QQbar)</span>
<span class="sd">            sage: G = rep.domain()</span>
<span class="sd">            sage: B = G.base_change_matrix(rep); </span>
<span class="sd">            sage: view(B,latex=False) # This function creates a better visualization of the matrix</span>
<span class="sd">            [        12       -9/5      -54/5]</span>
<span class="sd">            [         0    3*I + 3 -18*I + 18]</span>
<span class="sd">            [         0     -9/4*I     27/2*I]</span>

<span class="sd">            sage: [view(rep(g).matrix(), latex=False) for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0]  [                 1               9/10 -2/5*sqrt(3) + 6/5]</span>
<span class="sd">            [0 1 0]  [                 0  1/2*sqrt(3) - 1/2        4*sqrt(1/3)]</span>
<span class="sd">            [0 0 1], [                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2],</span>

<span class="sd">            [                 1               9/10  2/5*sqrt(3) + 6/5]</span>
<span class="sd">            [                 0 -1/2*sqrt(3) - 1/2       -4*sqrt(1/3)]</span>
<span class="sd">            [                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],</span>

<span class="sd">            [                 1               3/10 -2/5*sqrt(3) + 2/5]</span>
<span class="sd">            [                 0  1/2*sqrt(3) + 1/2        4*sqrt(1/3)]</span>
<span class="sd">            [                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],</span>

<span class="sd">            [  1 6/5 8/5]</span>
<span class="sd">            [  0  -1   0]</span>
<span class="sd">            [  0   0  -1],</span>

<span class="sd">            [                 1               3/10  2/5*sqrt(3) + 2/5]</span>
<span class="sd">            [                 0 -1/2*sqrt(3) + 1/2       -4*sqrt(1/3)]</span>
<span class="sd">            [                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],</span>

<span class="sd">            [  1   0   0]</span>
<span class="sd">            [  0   1 8/3]</span>
<span class="sd">            [  0   0  -1],</span>

<span class="sd">            [                 1               9/10 -2/5*sqrt(3) + 6/5]</span>
<span class="sd">            [                 0 -1/2*sqrt(3) - 1/2               -4/3]</span>
<span class="sd">            [                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],</span>

<span class="sd">            [                 1               9/10  2/5*sqrt(3) + 6/5]</span>
<span class="sd">            [                 0  1/2*sqrt(3) - 1/2               -4/3]</span>
<span class="sd">            [                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],</span>

<span class="sd">            [                 1               3/10 -2/5*sqrt(3) + 2/5]</span>
<span class="sd">            [                 0 -1/2*sqrt(3) + 1/2                4/3]</span>
<span class="sd">            [                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],</span>

<span class="sd">            [   1  6/5  8/5]</span>
<span class="sd">            [   0   -1 -8/3]</span>
<span class="sd">            [   0    0    1],</span>

<span class="sd">            [                 1               3/10  2/5*sqrt(3) + 2/5]</span>
<span class="sd">            [                 0  1/2*sqrt(3) + 1/2                4/3]</span>
<span class="sd">            [                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2]</span>
<span class="sd">            ]</span>

<span class="sd">            sage: [view(B.inverse()*rep(g).matrix()*B, latex=False) for g in G]</span>
<span class="sd">            [</span>
<span class="sd">            [1 0 0]</span>
<span class="sd">            [0 1 0]</span>
<span class="sd">            [0 0 1],</span>

<span class="sd">            [                   1                    0                    0]</span>
<span class="sd">            [                   0 -1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">            [                   0                    0  1/2*I*sqrt(3) - 1/2],</span>

<span class="sd">            [                   1                    0                    0]</span>
<span class="sd">            [                   0  1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">            [                   0                    0 -1/2*I*sqrt(3) - 1/2],</span>

<span class="sd">            [                   1                    0                    0]</span>
<span class="sd">            [                   0 -1/2*I*sqrt(3) + 1/2                    0]</span>
<span class="sd">            [                   0                    0  1/2*I*sqrt(3) + 1/2],</span>

<span class="sd">            [ 1  0  0]</span>
<span class="sd">            [ 0 -1  0]</span>
<span class="sd">            [ 0  0 -1],</span>

<span class="sd">            [                   1                    0                    0]</span>
<span class="sd">            [                   0  1/2*I*sqrt(3) + 1/2                    0]</span>
<span class="sd">            [                   0                    0 -1/2*I*sqrt(3) + 1/2],</span>

<span class="sd">            [  1   0   0]  [                      1                       0                       0]</span>
<span class="sd">            [  0   0   6]  [                      0                       0         3*I*sqrt(3) - 3]</span>
<span class="sd">            [  0 1/6   0], [                      0 -1/4*I*sqrt(1/3) - 1/12                       0],</span>

<span class="sd">            [                     1                      0                      0]  [                      1                       0                       0]</span>
<span class="sd">            [                     0                      0       -3*I*sqrt(3) - 3]  [                      0                       0         3*I*sqrt(3) + 3]</span>
<span class="sd">            [                     0 1/4*I*sqrt(1/3) - 1/12                      0], [                      0 -1/4*I*sqrt(1/3) + 1/12                       0],</span>

<span class="sd">            [   1    0    0]</span>
<span class="sd">            [   0    0   -6]</span>
<span class="sd">            [   0 -1/6    0],</span>

<span class="sd">            [                     1                      0                      0]</span>
<span class="sd">            [                     0                      0       -3*I*sqrt(3) + 3]</span>
<span class="sd">            [                     0 1/4*I*sqrt(1/3) + 1/12                      0]</span>
<span class="sd">            ]</span>




<span class="sd">        We define the regular representation over the symmetric group of 3 simbols and we decompose into irreducible components ::</span>

<span class="sd">            sage: G = Group(SymmetricGroup(3)) </span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: C = G.base_change_matrix(reg); </span>
<span class="sd">            sage: view(C, latex=False) # This Function creates a better visualization of the matrix</span>
<span class="sd">            [                   1                    1                    1                    0                    0                    3]</span>
<span class="sd">            [                   1                    1  1/2*I*sqrt(3) - 1/2                    0                    0 -3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">            [                   1                    1 -1/2*I*sqrt(3) - 1/2                    0                    0  3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">            [                   1                   -1                    0                    3                    1                    0]</span>
<span class="sd">            [                   1                   -1                    0  3/2*I*sqrt(3) - 3/2 -1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">            [                   1                   -1                    0 -3/2*I*sqrt(3) - 3/2  1/2*I*sqrt(3) - 1/2                    0]</span>

<span class="sd">            sage: g = G.an_element();</span>
<span class="sd">            sage: reg(g).matrix()</span>
<span class="sd">            [0 0 0 0 0 1]</span>
<span class="sd">            [0 0 0 1 0 0]</span>
<span class="sd">            [0 0 0 0 1 0]</span>
<span class="sd">            [0 1 0 0 0 0]</span>
<span class="sd">            [0 0 1 0 0 0]</span>
<span class="sd">            [1 0 0 0 0 0]</span>

<span class="sd">            sage: A = C.inverse()*reg(g).matrix()*C;</span>
<span class="sd">            sage: view(A, latex=False)</span>
<span class="sd">            [                    1                     0                     0                     0                     0                     0]</span>
<span class="sd">            [                    0                    -1                     0                     0                     0                     0]</span>
<span class="sd">            [                    0                     0                     0  -3/2*I*sqrt(3) - 3/2                     0                     0]</span>
<span class="sd">            [                    0                     0 1/2*I*sqrt(1/3) - 1/6                     0                     0                     0]</span>
<span class="sd">            [                    0                     0                     0                     0                     0  -3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">            [                    0                     0                     0                     0 1/2*I*sqrt(1/3) - 1/6                     0]</span>


<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1">#Nota: right pode inclusive ser a irredutível????</span>
        <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> 
            <span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  <span class="c1">#Nota: acho que aqui é um problema em caso de negativa</span>
                <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: conversar com marcelo a melhor forma de deixar row opcional</span>
                <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">pivot</span> <span class="ow">in</span> <span class="n">pivots</span><span class="p">:</span>
                    <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivot</span><span class="p">]</span>
                    <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
                    <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="p">):</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">v0</span>

                        <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>       
        <span class="n">b</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>  <span class="c1">#Nota: verificar de é mais edequado. Aí não precisa do numero de colunas</span>
        <span class="c1">#     #base_change_matrix = block_matrix(base, ncols=ncols)</span>
        <span class="k">return</span> <span class="n">b</span> <span class="c1">#IsotypicBase(base)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">base_change_matrix_new_off_filter_optimization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">        - ``row`` -- an integer (default: 0) ; an integer in the range of the degree of right, this number will choose the set o projectors to be chosen in the contruction of the base :: </span>

<span class="sd">        OUTPUT: A change basis matrix that decomposes the equivariant operator.</span>


<span class="sd">        EXAMPLES:</span>


<span class="sd">        We define the representation by permutation on the cyclic group of four elements and decompose an equivariant operator under this representation  ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: A = matrix.circulant([1,2,3,4])</span>
<span class="sd">            sage: rep.is_equivariant_to(A)</span>
<span class="sd">            True</span>
<span class="sd">            sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P</span>
<span class="sd">            [ 1  1  1  1]</span>
<span class="sd">            [ 1 -1  I -I]</span>
<span class="sd">            [ 1  1 -1 -1]</span>
<span class="sd">            [ 1 -1 -I  I]</span>
<span class="sd">            sage: A, P.inverse()*A*P</span>
<span class="sd">            (</span>
<span class="sd">            [1 2 3 4]  [      10        0        0        0]</span>
<span class="sd">            [4 1 2 3]  [       0       -2        0        0]</span>
<span class="sd">            [3 4 1 2]  [       0        0 -2*I - 2        0]</span>
<span class="sd">            [2 3 4 1], [       0        0        0  2*I - 2]</span>
<span class="sd">            )</span>



<span class="sd">        We define a representation on the permutation group, and decompose an equivariant operator  ::</span>

<span class="sd">            sage: G = Group([&#39;(2,4)(3,7)(6,8)&#39;, &#39;(1,3)(4,6)(7,9)&#39;])</span>
<span class="sd">            sage: gens = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in gens]</span>
<span class="sd">            sage: rep = representation(gens, matrices)</span>
<span class="sd">            sage: operator = matrix([[ 4, -1, -0, -1, -0, -0, -0, -0, -0],</span>
<span class="sd">                                    [-1,  4, -1, -0, -1, -0, -0, -0, -0],</span>
<span class="sd">                                    [-0, -1,  4, -0, -0, -1, -0, -0, -0],</span>
<span class="sd">                                    [-1, -0, -0,  4, -1, -0, -1, -0, -0],</span>
<span class="sd">                                    [-0, -1, -0, -1,  4, -1, -0, -1, -0],</span>
<span class="sd">                                    [-0, -0, -1, -0, -1,  4, -0, -0, -1],</span>
<span class="sd">                                    [-0, -0, -0, -1, -0, -0,  4, -1, -0],</span>
<span class="sd">                                    [-0, -0, -0, -0, -1, -0, -1,  4, -1],</span>
<span class="sd">                                    [-0, -0, -0, -0, -0, -1, -0, -1,  4]])</span>
<span class="sd">            sage: rep.is_equivariant_to(operator)</span>
<span class="sd">            True</span>
<span class="sd">            sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P</span>
<span class="sd">            [ 2  0  0  2  0  2  0  0  0]</span>
<span class="sd">            [ 0  2  0  0  2  0  1  0  4]</span>
<span class="sd">            [ 2  0  0 -2  0  0  0  8  0]</span>
<span class="sd">            [ 0  2  0  0 -2  0  1  0 -4]</span>
<span class="sd">            [ 0  0  8  0  0  0  0  0  0]</span>
<span class="sd">            [ 0  2  0  0 -2  0 -1  0  4]</span>
<span class="sd">            [ 2  0  0 -2  0  0  0 -8  0]</span>
<span class="sd">            [ 0  2  0  0  2  0 -1  0 -4]</span>
<span class="sd">            [ 2  0  0  2  0 -2  0  0  0]</span>
<span class="sd">            sage: operator, P.inverse()*operator*P</span>
<span class="sd">            (</span>
<span class="sd">            [ 4 -1  0 -1  0  0  0  0  0]  [ 4 -2  0  0  0  0  0  0  0]</span>
<span class="sd">            [-1  4 -1  0 -1  0  0  0  0]  [-2  4 -4  0  0  0  0  0  0]</span>
<span class="sd">            [ 0 -1  4  0  0 -1  0  0  0]  [ 0 -1  4  0  0  0  0  0  0]</span>
<span class="sd">            [-1  0  0  4 -1  0 -1  0  0]  [ 0  0  0  4  0  0  0  0  0]</span>
<span class="sd">            [ 0 -1  0 -1  4 -1  0 -1  0]  [ 0  0  0  0  4  0  0  0  0]</span>
<span class="sd">            [ 0  0 -1  0 -1  4  0  0 -1]  [ 0  0  0  0  0  4 -1  0  0]</span>
<span class="sd">            [ 0  0  0 -1  0  0  4 -1  0]  [ 0  0  0  0  0 -2  4  0  0]</span>
<span class="sd">            [ 0  0  0  0 -1  0 -1  4 -1]  [ 0  0  0  0  0  0  0  4 -1]</span>
<span class="sd">            [ 0  0  0  0  0 -1  0 -1  4], [ 0  0  0  0  0  0  0 -2  4]</span>
<span class="sd">            )</span>

<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>
<span class="sd">        TO ADD MORE EXAMPLES</span>


<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">###Mudar Nome, talvez symmetry_adapted_basis</span>
        <span class="c1">#Nota: right pode inclusive ser a irredutível???? PODE</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  <span class="c1">#Nota: acho que aqui é um problema em caso de negativa</span>
                <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: conversar com marcelo a melhor forma de deixar row opcional. #nota: left???</span>
                <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
                <span class="n">geracao1</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">pivot</span> <span class="ow">in</span> <span class="n">pivots</span><span class="p">:</span>
                    <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivot</span><span class="p">]</span>
                    <span class="n">geracao1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
                <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">geracao1</span> <span class="c1"># Nota: Traduzir</span>
                <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="p">):</span>  <span class="c1">#Nota: Esse laco roda se o range for vazio? Otimizar</span>
                    <span class="n">geracao2</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">v0</span> <span class="ow">in</span> <span class="n">geracao1</span><span class="p">:</span>     <span class="c1"># Nota: Traduzir</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">v0</span>
                        <span class="n">geracao2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>    <span class="c1"># Nota: Traduzir</span>
                    <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">geracao2</span>

        <span class="n">b</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>  <span class="c1">#Nota: verificar se é mais edequado. Aí não precisa do numero de colunas</span>
            <span class="c1">#base_change_matrix = block_matrix(base, ncols=ncols)</span>
        <span class="k">return</span> <span class="n">b</span> <span class="c1">#IsotypicBase(base)</span>

    <span class="c1">#####################################################################################</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">quick_block_prevision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span><span class="c1">##Nota, consertar row ##Revisar a documentacao do True or False</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list with order and multiplicities of blocks to an equivariant operator under right defined on self.</span>

<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over an arbitrary group given by self.</span>
<span class="sd">        - ``block_prevision`` -- a boolean (default: `False`) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</span>

<span class="sd">        OUTPUT: A list indicating the degree and multiplicity of the representation defined by right. </span>


<span class="sd">        EXAMPLES:</span>

<span class="sd">        We define the regular representation(reg) over the symmetric group of 4 simbols and calculate the structure of an equivariant operator under reg ::</span>

<span class="sd">            sage: H = SymmetricGroup(4)</span>
<span class="sd">            sage: G = Group(H);</span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: G.quick_block_prevision(reg)</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]</span>

<span class="sd">            sage: G.quick_block_prevision(reg, block_prevision=True)</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            2 block size 2x2</span>
<span class="sd">            3 block size 3x3</span>
<span class="sd">            3 block size 3x3</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]</span>

<span class="sd">        We define the representation by permutation on the cyclic group and calculate the structure of an equivariant operator ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G.quick_block_prevision(rep, block_prevision=True)</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]]</span>

<span class="sd">        We calculate the irreducible representations of the group of symmetries of tetrahedron and calculate the structure of an equivariant operator inder its irreducibles ::</span>

<span class="sd">            sage: G = Group(AlternatingGroup(4));</span>
<span class="sd">            sage: n,irr = G.irreducible_representations(False) ##Irreducible representations</span>
<span class="sd">            sage: for j in range(n):</span>
<span class="sd">                    print(G.quick_block_prevision(irr(j),block_prevision=True))</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">            3 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [3, 1]]</span>



<span class="sd">        We define two representation rep and rep1 on the group of symmetries of regular hexagon and calculate the structure of an equivariant operator under each one ::</span>

<span class="sd">            sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">            sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G = rep.domain()</span>
<span class="sd">            sage: G.quick_block_prevision(rep,block_prevision=True)</span>
<span class="sd">            2 block size 1x1</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [2, 1]]</span>

<span class="sd">            sage: P = matrix([[2,1],[15,2]]); #A change of basis</span>
<span class="sd">            sage: matrices1 = [ block_diagonal_matrix((P.inverse())*A*P, (P.inverse())*A*P) for A in matrices];</span>
<span class="sd">            sage: rep1 = representation(generators, matrices1)</span>
<span class="sd">            sage: G.quick_block_prevision(rep1,block_prevision=True)</span>
<span class="sd">            2 block size 2x2</span>
<span class="sd">            [[&#39;degree&#39;, &#39;multiplicity&#39;], [2, 2]]</span>


<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> 

        <span class="n">info</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="s1">&#39;multiplicity&#39;</span><span class="p">]]</span>        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        	<span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
        	<span class="k">try</span><span class="p">:</span>
        		<span class="n">multiplicity</span> <span class="o">=</span> <span class="n">multiplicity</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
        	<span class="k">except</span><span class="p">:</span> <span class="ne">AttributeError</span>
        	<span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>
        		<span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
        		<span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">block_prevision</span><span class="p">:</span>
        	<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        		<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; block size &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>


    <span class="c1">#Nota: Falta unificar as saidas das bases    </span>
    <span class="k">def</span><span class="w"> </span><span class="nf">base_change_eigenvalue_reduction_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return part of basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</span>


<span class="sd">        INPUT:</span>

<span class="sd">        - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">        - ``right`` -- representation ; a representation defined over the same group as self.        </span>
<span class="sd">        - ``block_prevision`` -- a boolean (default: `False`) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</span>

<span class="sd">        OUTPUT: A list of basis subespaces, along with degree and multiplicitie(number of equivalent copies).</span>
<span class="sd">        The restriction of an equivariant operator to each subespace gives a different block matrix of the equivariant operator relative to the symmetry adapted basis.</span>
<span class="sd">        In short, these are parts of the symmetry adapted basis that no generates block repetitions.</span>

<span class="sd">        EXAMPLES:</span>


<span class="sd">        We define the representation by permutation on the cyclic group of four elements and calculates the subspaces that gives one copy of each block of the equivariant operator under this representation  ::</span>

<span class="sd">            sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">            sage: generators = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">            sage: rep = representation(generators, matrices)</span>
<span class="sd">            sage: G.base_change_eigenvalue_reduction_new(rep)</span>
<span class="sd">            ([[</span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [ I]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [-I], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-I]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [ I], [1, 1]</span>
<span class="sd">            ]],</span>
<span class="sd">             [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]])</span>

<span class="sd">            sage: G.base_change_eigenvalue_reduction_new(rep, block_prevision=True)</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            ([[</span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [ I]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [-I], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-I]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [ I], [1, 1]</span>
<span class="sd">            ]],</span>
<span class="sd">             [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]])</span>



<span class="sd">        We define a representation on the permutation group, and calculates parts of the symmetry adapted basis that generates no repetition in the blocks of an equivariant operator  ::</span>

<span class="sd">            sage: G = Group([&#39;(2,4)(3,7)(6,8)&#39;, &#39;(1,3)(4,6)(7,9)&#39;])</span>
<span class="sd">            sage: gens = G.gens()</span>
<span class="sd">            sage: matrices = [g.matrix() for g in gens]</span>
<span class="sd">            sage: rep = representation(gens, matrices)</span>
<span class="sd">            sage: G.base_change_eigenvalue_reduction_new(rep)</span>
<span class="sd">            ([[</span>
<span class="sd">            [2 0 0]        </span>
<span class="sd">            [0 2 0]        </span>
<span class="sd">            [2 0 0]        </span>
<span class="sd">            [0 2 0]        </span>
<span class="sd">            [0 0 8]        </span>
<span class="sd">            [0 2 0]        </span>
<span class="sd">            [2 0 0]        </span>
<span class="sd">            [0 2 0]        </span>
<span class="sd">            [2 0 0], [1, 3]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [-2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [-2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [ 2], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [ 2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [-2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [-2]        </span>
<span class="sd">            [ 0]        </span>
<span class="sd">            [ 2]        </span>
<span class="sd">            [ 0], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 2  0]        </span>
<span class="sd">            [ 0  1]        </span>
<span class="sd">            [ 0  0]        </span>
<span class="sd">            [ 0  1]        </span>
<span class="sd">            [ 0  0]        </span>
<span class="sd">            [ 0 -1]        </span>
<span class="sd">            [ 0  0]        </span>
<span class="sd">            [ 0 -1]        </span>
<span class="sd">            [-2  0], [2, 2]</span>
<span class="sd">            ]],</span>
<span class="sd">             [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 3], [1, 1], [1, 1], [2, 2]])</span>

<span class="sd">        We define the regular representation(reg) over the symmetric group of 3 simbols and calculate the subspaces that gives all the blocks of an equivariant operator without repetition ::</span>

<span class="sd">            sage: H = SymmetricGroup(3)</span>
<span class="sd">            sage: G = Group(H);</span>
<span class="sd">            sage: reg = G.regular_representation();</span>
<span class="sd">            sage: G.base_change_eigenvalue_reduction_new(reg,block_prevision=True)</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            1 block size 1x1</span>
<span class="sd">            2 block size 2x2</span>
<span class="sd">            ([[</span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1]        </span>
<span class="sd">            [1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [ 1]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [-1]        </span>
<span class="sd">            [-1], [1, 1]</span>
<span class="sd">            ],</span>
<span class="sd">              [</span>
<span class="sd">            [                                         1                                          0]</span>
<span class="sd">            [-0.500000000000000? + 0.866025403784439?*I                                          0]</span>
<span class="sd">            [-0.500000000000000? - 0.866025403784439?*I                                          0]</span>
<span class="sd">            [                                         0                                          1]</span>
<span class="sd">            [                                         0 -0.500000000000000? - 0.866025403784439?*I]</span>
<span class="sd">            [                                         0 -0.500000000000000? + 0.866025403784439?*I],</span>

<span class="sd">            [2, 2]</span>
<span class="sd">            ]],</span>
<span class="sd">             [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2]])</span>



<span class="sd">        REFERENCES:</span>

<span class="sd">        For more information, see the following references:</span>

<span class="sd">        - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">        - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">        &quot;&quot;&quot;</span>       
        <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1">#base_new = []</span>
        <span class="n">info</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="s1">&#39;multiplicity&#39;</span><span class="p">]]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  

                <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: left???</span>
                <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
                <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>                
                <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivots</span><span class="p">]</span>
                <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="p">[</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">]])</span>
                <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">block_prevision</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; block size &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">base</span><span class="p">,</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.base_change_eigenvalue_reduction_new" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">base_change_eigenvalue_reduction_new</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return part of basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over the same group as self.        </li>
<li><code>block_prevision</code> -- a boolean (default: <code>False</code>) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</li>
</ul>
<p>OUTPUT: A list of basis subespaces, along with degree and multiplicitie(number of equivalent copies).
The restriction of an equivariant operator to each subespace gives a different block matrix of the equivariant operator relative to the symmetry adapted basis.
In short, these are parts of the symmetry adapted basis that no generates block repetitions.</p>
<p>EXAMPLES:</p>
<p>We define the representation by permutation on the cyclic group of four elements and calculates the subspaces that gives one copy of each block of the equivariant operator under this representation  ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: G.base_change_eigenvalue_reduction_new(rep)
([[
[1]        
[1]        
[1]        
[1], [1, 1]
],
  [
[ 1]        
[-1]        
[ 1]        
[-1], [1, 1]
],
  [
[ 1]        
[ I]        
[-1]        
[-I], [1, 1]
],
  [
[ 1]        
[-I]        
[-1]        
[ I], [1, 1]
]],
 [['degree', 'multiplicity'], [1, 1], [1, 1], [1, 1], [1, 1]])

sage: G.base_change_eigenvalue_reduction_new(rep, block_prevision=True)
1 block size 1x1
1 block size 1x1
1 block size 1x1
1 block size 1x1
([[
[1]        
[1]        
[1]        
[1], [1, 1]
],
  [
[ 1]        
[-1]        
[ 1]        
[-1], [1, 1]
],
  [
[ 1]        
[ I]        
[-1]        
[-I], [1, 1]
],
  [
[ 1]        
[-I]        
[-1]        
[ I], [1, 1]
]],
 [['degree', 'multiplicity'], [1, 1], [1, 1], [1, 1], [1, 1]])
</code></pre>
<p>We define a representation on the permutation group, and calculates parts of the symmetry adapted basis that generates no repetition in the blocks of an equivariant operator  ::</p>
<pre><code>sage: G = Group(['(2,4)(3,7)(6,8)', '(1,3)(4,6)(7,9)'])
sage: gens = G.gens()
sage: matrices = [g.matrix() for g in gens]
sage: rep = representation(gens, matrices)
sage: G.base_change_eigenvalue_reduction_new(rep)
([[
[2 0 0]        
[0 2 0]        
[2 0 0]        
[0 2 0]        
[0 0 8]        
[0 2 0]        
[2 0 0]        
[0 2 0]        
[2 0 0], [1, 3]
],
  [
[ 2]        
[ 0]        
[-2]        
[ 0]        
[ 0]        
[ 0]        
[-2]        
[ 0]        
[ 2], [1, 1]
],
  [
[ 0]        
[ 2]        
[ 0]        
[-2]        
[ 0]        
[-2]        
[ 0]        
[ 2]        
[ 0], [1, 1]
],
  [
[ 2  0]        
[ 0  1]        
[ 0  0]        
[ 0  1]        
[ 0  0]        
[ 0 -1]        
[ 0  0]        
[ 0 -1]        
[-2  0], [2, 2]
]],
 [['degree', 'multiplicity'], [1, 3], [1, 1], [1, 1], [2, 2]])
</code></pre>
<p>We define the regular representation(reg) over the symmetric group of 3 simbols and calculate the subspaces that gives all the blocks of an equivariant operator without repetition ::</p>
<pre><code>sage: H = SymmetricGroup(3)
sage: G = Group(H);
sage: reg = G.regular_representation();
sage: G.base_change_eigenvalue_reduction_new(reg,block_prevision=True)
1 block size 1x1
1 block size 1x1
2 block size 2x2
([[
[1]        
[1]        
[1]        
[1]        
[1]        
[1], [1, 1]
],
  [
[ 1]        
[ 1]        
[ 1]        
[-1]        
[-1]        
[-1], [1, 1]
],
  [
[                                         1                                          0]
[-0.500000000000000? + 0.866025403784439?*I                                          0]
[-0.500000000000000? - 0.866025403784439?*I                                          0]
[                                         0                                          1]
[                                         0 -0.500000000000000? - 0.866025403784439?*I]
[                                         0 -0.500000000000000? + 0.866025403784439?*I],

[2, 2]
]],
 [['degree', 'multiplicity'], [1, 1], [1, 1], [2, 2]])
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">base_change_eigenvalue_reduction_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return part of basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over the same group as self.        </span>
<span class="sd">    - ``block_prevision`` -- a boolean (default: `False`) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</span>

<span class="sd">    OUTPUT: A list of basis subespaces, along with degree and multiplicitie(number of equivalent copies).</span>
<span class="sd">    The restriction of an equivariant operator to each subespace gives a different block matrix of the equivariant operator relative to the symmetry adapted basis.</span>
<span class="sd">    In short, these are parts of the symmetry adapted basis that no generates block repetitions.</span>

<span class="sd">    EXAMPLES:</span>


<span class="sd">    We define the representation by permutation on the cyclic group of four elements and calculates the subspaces that gives one copy of each block of the equivariant operator under this representation  ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G.base_change_eigenvalue_reduction_new(rep)</span>
<span class="sd">        ([[</span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [ I]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [-I], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-I]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [ I], [1, 1]</span>
<span class="sd">        ]],</span>
<span class="sd">         [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]])</span>

<span class="sd">        sage: G.base_change_eigenvalue_reduction_new(rep, block_prevision=True)</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        ([[</span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [ I]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [-I], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-I]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [ I], [1, 1]</span>
<span class="sd">        ]],</span>
<span class="sd">         [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]])</span>



<span class="sd">    We define a representation on the permutation group, and calculates parts of the symmetry adapted basis that generates no repetition in the blocks of an equivariant operator  ::</span>

<span class="sd">        sage: G = Group([&#39;(2,4)(3,7)(6,8)&#39;, &#39;(1,3)(4,6)(7,9)&#39;])</span>
<span class="sd">        sage: gens = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in gens]</span>
<span class="sd">        sage: rep = representation(gens, matrices)</span>
<span class="sd">        sage: G.base_change_eigenvalue_reduction_new(rep)</span>
<span class="sd">        ([[</span>
<span class="sd">        [2 0 0]        </span>
<span class="sd">        [0 2 0]        </span>
<span class="sd">        [2 0 0]        </span>
<span class="sd">        [0 2 0]        </span>
<span class="sd">        [0 0 8]        </span>
<span class="sd">        [0 2 0]        </span>
<span class="sd">        [2 0 0]        </span>
<span class="sd">        [0 2 0]        </span>
<span class="sd">        [2 0 0], [1, 3]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [-2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [-2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [ 2], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [ 2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [-2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [-2]        </span>
<span class="sd">        [ 0]        </span>
<span class="sd">        [ 2]        </span>
<span class="sd">        [ 0], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 2  0]        </span>
<span class="sd">        [ 0  1]        </span>
<span class="sd">        [ 0  0]        </span>
<span class="sd">        [ 0  1]        </span>
<span class="sd">        [ 0  0]        </span>
<span class="sd">        [ 0 -1]        </span>
<span class="sd">        [ 0  0]        </span>
<span class="sd">        [ 0 -1]        </span>
<span class="sd">        [-2  0], [2, 2]</span>
<span class="sd">        ]],</span>
<span class="sd">         [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 3], [1, 1], [1, 1], [2, 2]])</span>

<span class="sd">    We define the regular representation(reg) over the symmetric group of 3 simbols and calculate the subspaces that gives all the blocks of an equivariant operator without repetition ::</span>

<span class="sd">        sage: H = SymmetricGroup(3)</span>
<span class="sd">        sage: G = Group(H);</span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: G.base_change_eigenvalue_reduction_new(reg,block_prevision=True)</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        2 block size 2x2</span>
<span class="sd">        ([[</span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1]        </span>
<span class="sd">        [1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [ 1]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [-1]        </span>
<span class="sd">        [-1], [1, 1]</span>
<span class="sd">        ],</span>
<span class="sd">          [</span>
<span class="sd">        [                                         1                                          0]</span>
<span class="sd">        [-0.500000000000000? + 0.866025403784439?*I                                          0]</span>
<span class="sd">        [-0.500000000000000? - 0.866025403784439?*I                                          0]</span>
<span class="sd">        [                                         0                                          1]</span>
<span class="sd">        [                                         0 -0.500000000000000? - 0.866025403784439?*I]</span>
<span class="sd">        [                                         0 -0.500000000000000? + 0.866025403784439?*I],</span>

<span class="sd">        [2, 2]</span>
<span class="sd">        ]],</span>
<span class="sd">         [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2]])</span>



<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>       
    <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
    <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1">#base_new = []</span>
    <span class="n">info</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="s1">&#39;multiplicity&#39;</span><span class="p">]]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  

            <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: left???</span>
            <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>                
            <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivots</span><span class="p">]</span>
            <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">v0</span><span class="p">,</span> <span class="p">[</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">]])</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">block_prevision</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; block size &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">base</span><span class="p">,</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.base_change_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">base_change_matrix</span><span class="p">(</span><span class="n">right</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the basis change matrix associated to a decomposition of right into irreducibles representations.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over the same group as self.</li>
</ul>
<p>OUTPUT: A change basis matrix that decomposes right in its irreducible components.</p>
<p>EXAMPLES:</p>
<p>We define the representation by permutation on the cyclic group of four elements and calculate its decomposition into irreducibles(Note that in this case because multiplicity we get the same result with the isotypic base)  ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: A = G.base_change_matrix(rep); A
[ 1  1  1  1]
[ 1 -1  I -I]
[ 1  1 -1 -1]
[ 1 -1 -I  I]

sage: [rep(g).matrix() for g in G]
[
[1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]
[0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]
[0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]
[0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]
]

sage: [A.inverse()*rep(g).matrix()*A for g in G]
[
[1 0 0 0]  [ 1  0  0  0]  [ 1  0  0  0]  [ 1  0  0  0]
[0 1 0 0]  [ 0 -1  0  0]  [ 0  1  0  0]  [ 0 -1  0  0]
[0 0 1 0]  [ 0  0  I  0]  [ 0  0 -1  0]  [ 0  0 -I  0]
[0 0 0 1], [ 0  0  0 -I], [ 0  0  0 -1], [ 0  0  0  I]
]
</code></pre>
<p>We define a representation on the group of symmetries of regular hexagon and calculate its matrix change basis to decomposing into irreducible blocks ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: P = matrix([[5,3,4],[0,3,4],[0,0,4]]);P
sage: matrices = [P.inverse()*matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]])*P,P.inverse()*matrix([[1,0,0],[0,-1,0],[0,0,1]])*P];
sage: rep = representation(generators, matrices, field=QQbar)
sage: G = rep.domain()
sage: B = G.base_change_matrix(rep); 
sage: view(B,latex=False) # This function creates a better visualization of the matrix
[        12       -9/5      -54/5]
[         0    3*I + 3 -18*I + 18]
[         0     -9/4*I     27/2*I]

sage: [view(rep(g).matrix(), latex=False) for g in G]
[
[1 0 0]  [                 1               9/10 -2/5*sqrt(3) + 6/5]
[0 1 0]  [                 0  1/2*sqrt(3) - 1/2        4*sqrt(1/3)]
[0 0 1], [                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2],

[                 1               9/10  2/5*sqrt(3) + 6/5]
[                 0 -1/2*sqrt(3) - 1/2       -4*sqrt(1/3)]
[                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],

[                 1               3/10 -2/5*sqrt(3) + 2/5]
[                 0  1/2*sqrt(3) + 1/2        4*sqrt(1/3)]
[                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],

[  1 6/5 8/5]
[  0  -1   0]
[  0   0  -1],

[                 1               3/10  2/5*sqrt(3) + 2/5]
[                 0 -1/2*sqrt(3) + 1/2       -4*sqrt(1/3)]
[                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],

[  1   0   0]
[  0   1 8/3]
[  0   0  -1],

[                 1               9/10 -2/5*sqrt(3) + 6/5]
[                 0 -1/2*sqrt(3) - 1/2               -4/3]
[                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],

[                 1               9/10  2/5*sqrt(3) + 6/5]
[                 0  1/2*sqrt(3) - 1/2               -4/3]
[                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],

[                 1               3/10 -2/5*sqrt(3) + 2/5]
[                 0 -1/2*sqrt(3) + 1/2                4/3]
[                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],

[   1  6/5  8/5]
[   0   -1 -8/3]
[   0    0    1],

[                 1               3/10  2/5*sqrt(3) + 2/5]
[                 0  1/2*sqrt(3) + 1/2                4/3]
[                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2]
]

sage: [view(B.inverse()*rep(g).matrix()*B, latex=False) for g in G]
[
[1 0 0]
[0 1 0]
[0 0 1],

[                   1                    0                    0]
[                   0 -1/2*I*sqrt(3) - 1/2                    0]
[                   0                    0  1/2*I*sqrt(3) - 1/2],

[                   1                    0                    0]
[                   0  1/2*I*sqrt(3) - 1/2                    0]
[                   0                    0 -1/2*I*sqrt(3) - 1/2],

[                   1                    0                    0]
[                   0 -1/2*I*sqrt(3) + 1/2                    0]
[                   0                    0  1/2*I*sqrt(3) + 1/2],

[ 1  0  0]
[ 0 -1  0]
[ 0  0 -1],

[                   1                    0                    0]
[                   0  1/2*I*sqrt(3) + 1/2                    0]
[                   0                    0 -1/2*I*sqrt(3) + 1/2],

[  1   0   0]  [                      1                       0                       0]
[  0   0   6]  [                      0                       0         3*I*sqrt(3) - 3]
[  0 1/6   0], [                      0 -1/4*I*sqrt(1/3) - 1/12                       0],

[                     1                      0                      0]  [                      1                       0                       0]
[                     0                      0       -3*I*sqrt(3) - 3]  [                      0                       0         3*I*sqrt(3) + 3]
[                     0 1/4*I*sqrt(1/3) - 1/12                      0], [                      0 -1/4*I*sqrt(1/3) + 1/12                       0],

[   1    0    0]
[   0    0   -6]
[   0 -1/6    0],

[                     1                      0                      0]
[                     0                      0       -3*I*sqrt(3) + 3]
[                     0 1/4*I*sqrt(1/3) + 1/12                      0]
]
</code></pre>
<p>We define the regular representation over the symmetric group of 3 simbols and we decompose into irreducible components ::</p>
<pre><code>sage: G = Group(SymmetricGroup(3)) 
sage: reg = G.regular_representation();
sage: C = G.base_change_matrix(reg); 
sage: view(C, latex=False) # This Function creates a better visualization of the matrix
[                   1                    1                    1                    0                    0                    3]
[                   1                    1  1/2*I*sqrt(3) - 1/2                    0                    0 -3/2*I*sqrt(3) - 3/2]
[                   1                    1 -1/2*I*sqrt(3) - 1/2                    0                    0  3/2*I*sqrt(3) - 3/2]
[                   1                   -1                    0                    3                    1                    0]
[                   1                   -1                    0  3/2*I*sqrt(3) - 3/2 -1/2*I*sqrt(3) - 1/2                    0]
[                   1                   -1                    0 -3/2*I*sqrt(3) - 3/2  1/2*I*sqrt(3) - 1/2                    0]

sage: g = G.an_element();
sage: reg(g).matrix()
[0 0 0 0 0 1]
[0 0 0 1 0 0]
[0 0 0 0 1 0]
[0 1 0 0 0 0]
[0 0 1 0 0 0]
[1 0 0 0 0 0]

sage: A = C.inverse()*reg(g).matrix()*C;
sage: view(A, latex=False)
[                    1                     0                     0                     0                     0                     0]
[                    0                    -1                     0                     0                     0                     0]
[                    0                     0                     0  -3/2*I*sqrt(3) - 3/2                     0                     0]
[                    0                     0 1/2*I*sqrt(1/3) - 1/6                     0                     0                     0]
[                    0                     0                     0                     0                     0  -3/2*I*sqrt(3) - 3/2]
[                    0                     0                     0                     0 1/2*I*sqrt(1/3) - 1/6                     0]
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">base_change_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the basis change matrix associated to a decomposition of right into irreducibles representations.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over the same group as self.</span>

<span class="sd">    OUTPUT: A change basis matrix that decomposes right in its irreducible components.</span>


<span class="sd">    EXAMPLES:</span>


<span class="sd">    We define the representation by permutation on the cyclic group of four elements and calculate its decomposition into irreducibles(Note that in this case because multiplicity we get the same result with the isotypic base)  ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: A = G.base_change_matrix(rep); A</span>
<span class="sd">        [ 1  1  1  1]</span>
<span class="sd">        [ 1 -1  I -I]</span>
<span class="sd">        [ 1  1 -1 -1]</span>
<span class="sd">        [ 1 -1 -I  I]</span>

<span class="sd">        sage: [rep(g).matrix() for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]</span>
<span class="sd">        [0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]</span>
<span class="sd">        [0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]</span>
<span class="sd">        [0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]</span>
<span class="sd">        ]</span>

<span class="sd">        sage: [A.inverse()*rep(g).matrix()*A for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0 0]  [ 1  0  0  0]  [ 1  0  0  0]  [ 1  0  0  0]</span>
<span class="sd">        [0 1 0 0]  [ 0 -1  0  0]  [ 0  1  0  0]  [ 0 -1  0  0]</span>
<span class="sd">        [0 0 1 0]  [ 0  0  I  0]  [ 0  0 -1  0]  [ 0  0 -I  0]</span>
<span class="sd">        [0 0 0 1], [ 0  0  0 -I], [ 0  0  0 -1], [ 0  0  0  I]</span>
<span class="sd">        ]</span>



<span class="sd">    We define a representation on the group of symmetries of regular hexagon and calculate its matrix change basis to decomposing into irreducible blocks ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: P = matrix([[5,3,4],[0,3,4],[0,0,4]]);P</span>
<span class="sd">        sage: matrices = [P.inverse()*matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]])*P,P.inverse()*matrix([[1,0,0],[0,-1,0],[0,0,1]])*P];</span>
<span class="sd">        sage: rep = representation(generators, matrices, field=QQbar)</span>
<span class="sd">        sage: G = rep.domain()</span>
<span class="sd">        sage: B = G.base_change_matrix(rep); </span>
<span class="sd">        sage: view(B,latex=False) # This function creates a better visualization of the matrix</span>
<span class="sd">        [        12       -9/5      -54/5]</span>
<span class="sd">        [         0    3*I + 3 -18*I + 18]</span>
<span class="sd">        [         0     -9/4*I     27/2*I]</span>

<span class="sd">        sage: [view(rep(g).matrix(), latex=False) for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0]  [                 1               9/10 -2/5*sqrt(3) + 6/5]</span>
<span class="sd">        [0 1 0]  [                 0  1/2*sqrt(3) - 1/2        4*sqrt(1/3)]</span>
<span class="sd">        [0 0 1], [                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2],</span>

<span class="sd">        [                 1               9/10  2/5*sqrt(3) + 6/5]</span>
<span class="sd">        [                 0 -1/2*sqrt(3) - 1/2       -4*sqrt(1/3)]</span>
<span class="sd">        [                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],</span>

<span class="sd">        [                 1               3/10 -2/5*sqrt(3) + 2/5]</span>
<span class="sd">        [                 0  1/2*sqrt(3) + 1/2        4*sqrt(1/3)]</span>
<span class="sd">        [                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],</span>

<span class="sd">        [  1 6/5 8/5]</span>
<span class="sd">        [  0  -1   0]</span>
<span class="sd">        [  0   0  -1],</span>

<span class="sd">        [                 1               3/10  2/5*sqrt(3) + 2/5]</span>
<span class="sd">        [                 0 -1/2*sqrt(3) + 1/2       -4*sqrt(1/3)]</span>
<span class="sd">        [                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],</span>

<span class="sd">        [  1   0   0]</span>
<span class="sd">        [  0   1 8/3]</span>
<span class="sd">        [  0   0  -1],</span>

<span class="sd">        [                 1               9/10 -2/5*sqrt(3) + 6/5]</span>
<span class="sd">        [                 0 -1/2*sqrt(3) - 1/2               -4/3]</span>
<span class="sd">        [                 0        3/8*sqrt(3)  1/2*sqrt(3) + 1/2],</span>

<span class="sd">        [                 1               9/10  2/5*sqrt(3) + 6/5]</span>
<span class="sd">        [                 0  1/2*sqrt(3) - 1/2               -4/3]</span>
<span class="sd">        [                 0       -3/8*sqrt(3) -1/2*sqrt(3) + 1/2],</span>

<span class="sd">        [                 1               3/10 -2/5*sqrt(3) + 2/5]</span>
<span class="sd">        [                 0 -1/2*sqrt(3) + 1/2                4/3]</span>
<span class="sd">        [                 0        3/8*sqrt(3)  1/2*sqrt(3) - 1/2],</span>

<span class="sd">        [   1  6/5  8/5]</span>
<span class="sd">        [   0   -1 -8/3]</span>
<span class="sd">        [   0    0    1],</span>

<span class="sd">        [                 1               3/10  2/5*sqrt(3) + 2/5]</span>
<span class="sd">        [                 0  1/2*sqrt(3) + 1/2                4/3]</span>
<span class="sd">        [                 0       -3/8*sqrt(3) -1/2*sqrt(3) - 1/2]</span>
<span class="sd">        ]</span>

<span class="sd">        sage: [view(B.inverse()*rep(g).matrix()*B, latex=False) for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0]</span>
<span class="sd">        [0 1 0]</span>
<span class="sd">        [0 0 1],</span>

<span class="sd">        [                   1                    0                    0]</span>
<span class="sd">        [                   0 -1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">        [                   0                    0  1/2*I*sqrt(3) - 1/2],</span>

<span class="sd">        [                   1                    0                    0]</span>
<span class="sd">        [                   0  1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">        [                   0                    0 -1/2*I*sqrt(3) - 1/2],</span>

<span class="sd">        [                   1                    0                    0]</span>
<span class="sd">        [                   0 -1/2*I*sqrt(3) + 1/2                    0]</span>
<span class="sd">        [                   0                    0  1/2*I*sqrt(3) + 1/2],</span>

<span class="sd">        [ 1  0  0]</span>
<span class="sd">        [ 0 -1  0]</span>
<span class="sd">        [ 0  0 -1],</span>

<span class="sd">        [                   1                    0                    0]</span>
<span class="sd">        [                   0  1/2*I*sqrt(3) + 1/2                    0]</span>
<span class="sd">        [                   0                    0 -1/2*I*sqrt(3) + 1/2],</span>

<span class="sd">        [  1   0   0]  [                      1                       0                       0]</span>
<span class="sd">        [  0   0   6]  [                      0                       0         3*I*sqrt(3) - 3]</span>
<span class="sd">        [  0 1/6   0], [                      0 -1/4*I*sqrt(1/3) - 1/12                       0],</span>

<span class="sd">        [                     1                      0                      0]  [                      1                       0                       0]</span>
<span class="sd">        [                     0                      0       -3*I*sqrt(3) - 3]  [                      0                       0         3*I*sqrt(3) + 3]</span>
<span class="sd">        [                     0 1/4*I*sqrt(1/3) - 1/12                      0], [                      0 -1/4*I*sqrt(1/3) + 1/12                       0],</span>

<span class="sd">        [   1    0    0]</span>
<span class="sd">        [   0    0   -6]</span>
<span class="sd">        [   0 -1/6    0],</span>

<span class="sd">        [                     1                      0                      0]</span>
<span class="sd">        [                     0                      0       -3*I*sqrt(3) + 3]</span>
<span class="sd">        [                     0 1/4*I*sqrt(1/3) + 1/12                      0]</span>
<span class="sd">        ]</span>




<span class="sd">    We define the regular representation over the symmetric group of 3 simbols and we decompose into irreducible components ::</span>

<span class="sd">        sage: G = Group(SymmetricGroup(3)) </span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: C = G.base_change_matrix(reg); </span>
<span class="sd">        sage: view(C, latex=False) # This Function creates a better visualization of the matrix</span>
<span class="sd">        [                   1                    1                    1                    0                    0                    3]</span>
<span class="sd">        [                   1                    1  1/2*I*sqrt(3) - 1/2                    0                    0 -3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">        [                   1                    1 -1/2*I*sqrt(3) - 1/2                    0                    0  3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">        [                   1                   -1                    0                    3                    1                    0]</span>
<span class="sd">        [                   1                   -1                    0  3/2*I*sqrt(3) - 3/2 -1/2*I*sqrt(3) - 1/2                    0]</span>
<span class="sd">        [                   1                   -1                    0 -3/2*I*sqrt(3) - 3/2  1/2*I*sqrt(3) - 1/2                    0]</span>

<span class="sd">        sage: g = G.an_element();</span>
<span class="sd">        sage: reg(g).matrix()</span>
<span class="sd">        [0 0 0 0 0 1]</span>
<span class="sd">        [0 0 0 1 0 0]</span>
<span class="sd">        [0 0 0 0 1 0]</span>
<span class="sd">        [0 1 0 0 0 0]</span>
<span class="sd">        [0 0 1 0 0 0]</span>
<span class="sd">        [1 0 0 0 0 0]</span>

<span class="sd">        sage: A = C.inverse()*reg(g).matrix()*C;</span>
<span class="sd">        sage: view(A, latex=False)</span>
<span class="sd">        [                    1                     0                     0                     0                     0                     0]</span>
<span class="sd">        [                    0                    -1                     0                     0                     0                     0]</span>
<span class="sd">        [                    0                     0                     0  -3/2*I*sqrt(3) - 3/2                     0                     0]</span>
<span class="sd">        [                    0                     0 1/2*I*sqrt(1/3) - 1/6                     0                     0                     0]</span>
<span class="sd">        [                    0                     0                     0                     0                     0  -3/2*I*sqrt(3) - 3/2]</span>
<span class="sd">        [                    0                     0                     0                     0 1/2*I*sqrt(1/3) - 1/6                     0]</span>


<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#Nota: right pode inclusive ser a irredutível????</span>
    <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
    <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> 
        <span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  <span class="c1">#Nota: acho que aqui é um problema em caso de negativa</span>
            <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: conversar com marcelo a melhor forma de deixar row opcional</span>
            <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">pivot</span> <span class="ow">in</span> <span class="n">pivots</span><span class="p">:</span>
                <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivot</span><span class="p">]</span>
                <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
                <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="p">):</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">v0</span>

                    <span class="n">base</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>       
    <span class="n">b</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>  <span class="c1">#Nota: verificar de é mais edequado. Aí não precisa do numero de colunas</span>
    <span class="c1">#     #base_change_matrix = block_matrix(base, ncols=ncols)</span>
    <span class="k">return</span> <span class="n">b</span> <span class="c1">#IsotypicBase(base)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.base_change_matrix_new_off_filter_optimization" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">base_change_matrix_new_off_filter_optimization</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over the same group as self.</li>
<li><code>row</code> -- an integer (default: 0) ; an integer in the range of the degree of right, this number will choose the set o projectors to be chosen in the contruction of the base :: </li>
</ul>
<p>OUTPUT: A change basis matrix that decomposes the equivariant operator.</p>
<p>EXAMPLES:</p>
<p>We define the representation by permutation on the cyclic group of four elements and decompose an equivariant operator under this representation  ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: A = matrix.circulant([1,2,3,4])
sage: rep.is_equivariant_to(A)
True
sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P
[ 1  1  1  1]
[ 1 -1  I -I]
[ 1  1 -1 -1]
[ 1 -1 -I  I]
sage: A, P.inverse()*A*P
(
[1 2 3 4]  [      10        0        0        0]
[4 1 2 3]  [       0       -2        0        0]
[3 4 1 2]  [       0        0 -2*I - 2        0]
[2 3 4 1], [       0        0        0  2*I - 2]
)
</code></pre>
<p>We define a representation on the permutation group, and decompose an equivariant operator  ::</p>
<pre><code>sage: G = Group(['(2,4)(3,7)(6,8)', '(1,3)(4,6)(7,9)'])
sage: gens = G.gens()
sage: matrices = [g.matrix() for g in gens]
sage: rep = representation(gens, matrices)
sage: operator = matrix([[ 4, -1, -0, -1, -0, -0, -0, -0, -0],
                        [-1,  4, -1, -0, -1, -0, -0, -0, -0],
                        [-0, -1,  4, -0, -0, -1, -0, -0, -0],
                        [-1, -0, -0,  4, -1, -0, -1, -0, -0],
                        [-0, -1, -0, -1,  4, -1, -0, -1, -0],
                        [-0, -0, -1, -0, -1,  4, -0, -0, -1],
                        [-0, -0, -0, -1, -0, -0,  4, -1, -0],
                        [-0, -0, -0, -0, -1, -0, -1,  4, -1],
                        [-0, -0, -0, -0, -0, -1, -0, -1,  4]])
sage: rep.is_equivariant_to(operator)
True
sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P
[ 2  0  0  2  0  2  0  0  0]
[ 0  2  0  0  2  0  1  0  4]
[ 2  0  0 -2  0  0  0  8  0]
[ 0  2  0  0 -2  0  1  0 -4]
[ 0  0  8  0  0  0  0  0  0]
[ 0  2  0  0 -2  0 -1  0  4]
[ 2  0  0 -2  0  0  0 -8  0]
[ 0  2  0  0  2  0 -1  0 -4]
[ 2  0  0  2  0 -2  0  0  0]
sage: operator, P.inverse()*operator*P
(
[ 4 -1  0 -1  0  0  0  0  0]  [ 4 -2  0  0  0  0  0  0  0]
[-1  4 -1  0 -1  0  0  0  0]  [-2  4 -4  0  0  0  0  0  0]
[ 0 -1  4  0  0 -1  0  0  0]  [ 0 -1  4  0  0  0  0  0  0]
[-1  0  0  4 -1  0 -1  0  0]  [ 0  0  0  4  0  0  0  0  0]
[ 0 -1  0 -1  4 -1  0 -1  0]  [ 0  0  0  0  4  0  0  0  0]
[ 0  0 -1  0 -1  4  0  0 -1]  [ 0  0  0  0  0  4 -1  0  0]
[ 0  0  0 -1  0  0  4 -1  0]  [ 0  0  0  0  0 -2  4  0  0]
[ 0  0  0  0 -1  0 -1  4 -1]  [ 0  0  0  0  0  0  0  4 -1]
[ 0  0  0  0  0 -1  0 -1  4], [ 0  0  0  0  0  0  0 -2  4]
)
</code></pre>
<p>TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES</p>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">base_change_matrix_new_off_filter_optimization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the basis change matrix associated to a symmetry adapted basis to an equivariant operator of right.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">    - ``row`` -- an integer (default: 0) ; an integer in the range of the degree of right, this number will choose the set o projectors to be chosen in the contruction of the base :: </span>

<span class="sd">    OUTPUT: A change basis matrix that decomposes the equivariant operator.</span>


<span class="sd">    EXAMPLES:</span>


<span class="sd">    We define the representation by permutation on the cyclic group of four elements and decompose an equivariant operator under this representation  ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: A = matrix.circulant([1,2,3,4])</span>
<span class="sd">        sage: rep.is_equivariant_to(A)</span>
<span class="sd">        True</span>
<span class="sd">        sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P</span>
<span class="sd">        [ 1  1  1  1]</span>
<span class="sd">        [ 1 -1  I -I]</span>
<span class="sd">        [ 1  1 -1 -1]</span>
<span class="sd">        [ 1 -1 -I  I]</span>
<span class="sd">        sage: A, P.inverse()*A*P</span>
<span class="sd">        (</span>
<span class="sd">        [1 2 3 4]  [      10        0        0        0]</span>
<span class="sd">        [4 1 2 3]  [       0       -2        0        0]</span>
<span class="sd">        [3 4 1 2]  [       0        0 -2*I - 2        0]</span>
<span class="sd">        [2 3 4 1], [       0        0        0  2*I - 2]</span>
<span class="sd">        )</span>



<span class="sd">    We define a representation on the permutation group, and decompose an equivariant operator  ::</span>

<span class="sd">        sage: G = Group([&#39;(2,4)(3,7)(6,8)&#39;, &#39;(1,3)(4,6)(7,9)&#39;])</span>
<span class="sd">        sage: gens = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in gens]</span>
<span class="sd">        sage: rep = representation(gens, matrices)</span>
<span class="sd">        sage: operator = matrix([[ 4, -1, -0, -1, -0, -0, -0, -0, -0],</span>
<span class="sd">                                [-1,  4, -1, -0, -1, -0, -0, -0, -0],</span>
<span class="sd">                                [-0, -1,  4, -0, -0, -1, -0, -0, -0],</span>
<span class="sd">                                [-1, -0, -0,  4, -1, -0, -1, -0, -0],</span>
<span class="sd">                                [-0, -1, -0, -1,  4, -1, -0, -1, -0],</span>
<span class="sd">                                [-0, -0, -1, -0, -1,  4, -0, -0, -1],</span>
<span class="sd">                                [-0, -0, -0, -1, -0, -0,  4, -1, -0],</span>
<span class="sd">                                [-0, -0, -0, -0, -1, -0, -1,  4, -1],</span>
<span class="sd">                                [-0, -0, -0, -0, -0, -1, -0, -1,  4]])</span>
<span class="sd">        sage: rep.is_equivariant_to(operator)</span>
<span class="sd">        True</span>
<span class="sd">        sage: P = G.base_change_matrix_new_off_filter_optimization(rep); P</span>
<span class="sd">        [ 2  0  0  2  0  2  0  0  0]</span>
<span class="sd">        [ 0  2  0  0  2  0  1  0  4]</span>
<span class="sd">        [ 2  0  0 -2  0  0  0  8  0]</span>
<span class="sd">        [ 0  2  0  0 -2  0  1  0 -4]</span>
<span class="sd">        [ 0  0  8  0  0  0  0  0  0]</span>
<span class="sd">        [ 0  2  0  0 -2  0 -1  0  4]</span>
<span class="sd">        [ 2  0  0 -2  0  0  0 -8  0]</span>
<span class="sd">        [ 0  2  0  0  2  0 -1  0 -4]</span>
<span class="sd">        [ 2  0  0  2  0 -2  0  0  0]</span>
<span class="sd">        sage: operator, P.inverse()*operator*P</span>
<span class="sd">        (</span>
<span class="sd">        [ 4 -1  0 -1  0  0  0  0  0]  [ 4 -2  0  0  0  0  0  0  0]</span>
<span class="sd">        [-1  4 -1  0 -1  0  0  0  0]  [-2  4 -4  0  0  0  0  0  0]</span>
<span class="sd">        [ 0 -1  4  0  0 -1  0  0  0]  [ 0 -1  4  0  0  0  0  0  0]</span>
<span class="sd">        [-1  0  0  4 -1  0 -1  0  0]  [ 0  0  0  4  0  0  0  0  0]</span>
<span class="sd">        [ 0 -1  0 -1  4 -1  0 -1  0]  [ 0  0  0  0  4  0  0  0  0]</span>
<span class="sd">        [ 0  0 -1  0 -1  4  0  0 -1]  [ 0  0  0  0  0  4 -1  0  0]</span>
<span class="sd">        [ 0  0  0 -1  0  0  4 -1  0]  [ 0  0  0  0  0 -2  4  0  0]</span>
<span class="sd">        [ 0  0  0  0 -1  0 -1  4 -1]  [ 0  0  0  0  0  0  0  4 -1]</span>
<span class="sd">        [ 0  0  0  0  0 -1  0 -1  4], [ 0  0  0  0  0  0  0 -2  4]</span>
<span class="sd">        )</span>

<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>


<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">###Mudar Nome, talvez symmetry_adapted_basis</span>
    <span class="c1">#Nota: right pode inclusive ser a irredutível???? PODE</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1">#Nota: vou pensar em como implementar o __len__</span>
    <span class="n">base</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>  <span class="c1">#Nota: acho que aqui é um problema em caso de negativa</span>
            <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>  <span class="c1">#Nota: conversar com marcelo a melhor forma de deixar row opcional. #nota: left???</span>
            <span class="n">pivots</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">pivots</span><span class="p">()</span>
            <span class="n">geracao1</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">pivot</span> <span class="ow">in</span> <span class="n">pivots</span><span class="p">:</span>
                <span class="n">v0</span> <span class="o">=</span> <span class="n">P</span><span class="p">[:,</span> <span class="n">pivot</span><span class="p">]</span>
                <span class="n">geracao1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v0</span><span class="p">)</span>
            <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">geracao1</span> <span class="c1"># Nota: Traduzir</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="p">):</span>  <span class="c1">#Nota: Esse laco roda se o range for vazio? Otimizar</span>
                <span class="n">geracao2</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">v0</span> <span class="ow">in</span> <span class="n">geracao1</span><span class="p">:</span>     <span class="c1"># Nota: Traduzir</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span> <span class="o">*</span> <span class="n">v0</span>
                    <span class="n">geracao2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>    <span class="c1"># Nota: Traduzir</span>
                <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">geracao2</span>

    <span class="n">b</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>  <span class="c1">#Nota: verificar se é mais edequado. Aí não precisa do numero de colunas</span>
        <span class="c1">#base_change_matrix = block_matrix(base, ncols=ncols)</span>
    <span class="k">return</span> <span class="n">b</span> <span class="c1">#IsotypicBase(base)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.irreducible_representations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">irreducible_representations</span><span class="p">(</span><span class="n">show_table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the number n of irreducible representations of self and the irreducibles representations.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>show_table</code> -- a boolean (default: <code>True</code>) ; shows a table of each irreducible representation applied at the generators of self.</li>
</ul>


<details class="output" open>
  <summary>If show_table=True; return number of irreducible representions and irreducible representions themselves.</summary>
  <p>If show_table=False; return the irreducible representions themselves. </p>
</details>        <p>EXAMPLES:</p>
<p>We define the symmetric group of 4 simbols and calculate its irreducible representations ::</p>
<pre><code>sage: G = Group(SymmetricGroup(4));
sage: n, irr = G.irreducible_representations(False) #Irreducible representations
sage: n
5
sage: irr(0)
Map: 
 From: Permutation Group with generators [(1,2), (1,2,3,4)] 
 To: Matrix group over Integer Ring with 2 generators ([1], [1]).

sage: irr(4)
Map: 
 From: Permutation Group with generators [(1,2), (1,2,3,4)] 
 To: Matrix group over Integer Ring with 2 generators (
[ 0  1  0]  [ 0  0 -1]
[ 1  0  0]  [ 0  1  0]
[ 0  0 -1], [ 1  0  0]
).
</code></pre>
<p>We define the representation by permutation on the cyclic group calculate its irreducible representations ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(6))
sage: irr = G.irreducible_representations(True) #Irreducible representations
||||||SAIDA A SER PENSADA|||||||
</code></pre>
<p>We calculate the irreducible representations of the group of symmetries of a regular tetrahedron ::</p>
<pre><code>sage: G = Group(AlternatingGroup(4));
sage: irr = G.irreducible_representations(True) #Irreducible representations
sage: for j in range(n):
 ||||||SAIDA A SER PENSADA|||||||
</code></pre>
<p>We define the group of symmetries of regular hexagon and calculate its irreducible representations  ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: G = Group(PermutationGroup(generators))
sage: n,irr = G.irreducible_representations(False) #Irreducible representations
sage: for j in range(n):
        print(irr(j))
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Integer Ring with 2 generators ([1], [1]).
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Integer Ring with 2 generators ([1], [-1]).
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Integer Ring with 2 generators ([-1], [-1]).
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Integer Ring with 2 generators ([-1], [1]).
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Universal Cyclotomic Field with 2 generators (
[E(3)^2      0]  [0 1]
[     0   E(3)], [1 0]
).
Map: 
 From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] 
 To: Matrix group over Universal Cyclotomic Field with 2 generators (
[-E(3)^2       0]  [ 0 -1]
[      0   -E(3)], [-1  0]
).
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">irreducible_representations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span> <span class="c1">##Nota: Como documentar saida com o True</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the number n of irreducible representations of self and the irreducibles representations.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``show_table`` -- a boolean (default: `True`) ; shows a table of each irreducible representation applied at the generators of self.</span>

<span class="sd">    OUTPUT: If show_table=True; return number of irreducible representions and irreducible representions themselves.</span>
<span class="sd">            If show_table=False; return the irreducible representions themselves. </span>


<span class="sd">    EXAMPLES:</span>

<span class="sd">    We define the symmetric group of 4 simbols and calculate its irreducible representations ::</span>

<span class="sd">        sage: G = Group(SymmetricGroup(4));</span>
<span class="sd">        sage: n, irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">        sage: n</span>
<span class="sd">        5</span>
<span class="sd">        sage: irr(0)</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2), (1,2,3,4)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators ([1], [1]).</span>

<span class="sd">        sage: irr(4)</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2), (1,2,3,4)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators (</span>
<span class="sd">        [ 0  1  0]  [ 0  0 -1]</span>
<span class="sd">        [ 1  0  0]  [ 0  1  0]</span>
<span class="sd">        [ 0  0 -1], [ 1  0  0]</span>
<span class="sd">        ).</span>

<span class="sd">    We define the representation by permutation on the cyclic group calculate its irreducible representations ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(6))</span>
<span class="sd">        sage: irr = G.irreducible_representations(True) #Irreducible representations</span>
<span class="sd">        ||||||SAIDA A SER PENSADA|||||||</span>

<span class="sd">    We calculate the irreducible representations of the group of symmetries of a regular tetrahedron ::</span>

<span class="sd">        sage: G = Group(AlternatingGroup(4));</span>
<span class="sd">        sage: irr = G.irreducible_representations(True) #Irreducible representations</span>
<span class="sd">        sage: for j in range(n):</span>
<span class="sd">         ||||||SAIDA A SER PENSADA|||||||</span>

<span class="sd">    We define the group of symmetries of regular hexagon and calculate its irreducible representations  ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: G = Group(PermutationGroup(generators))</span>
<span class="sd">        sage: n,irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">        sage: for j in range(n):</span>
<span class="sd">                print(irr(j))</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators ([1], [1]).</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators ([1], [-1]).</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators ([-1], [-1]).</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Integer Ring with 2 generators ([-1], [1]).</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Universal Cyclotomic Field with 2 generators (</span>
<span class="sd">        [E(3)^2      0]  [0 1]</span>
<span class="sd">        [     0   E(3)], [1 0]</span>
<span class="sd">        ).</span>
<span class="sd">        Map: </span>
<span class="sd">         From: Permutation Group with generators [(1,2,3,4,5,6), (1,4)(2,3)(5,6)] </span>
<span class="sd">         To: Matrix group over Universal Cyclotomic Field with 2 generators (</span>
<span class="sd">        [-E(3)^2       0]  [ 0 -1]</span>
<span class="sd">        [      0   -E(3)], [-1  0]</span>
<span class="sd">        ).</span>

<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">irr</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">IrreducibleRepresentations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">gens</span> <span class="o">=</span> <span class="n">gap</span><span class="o">.</span><span class="n">GeneratorsOfGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">gap</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">gens</span><span class="p">))</span>
    <span class="n">matrices_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">irr</span><span class="p">:</span>
        <span class="n">matrices</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">matrix</span><span class="p">(</span><span class="n">sage_eval</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gap</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">k</span><span class="p">))))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">generators</span>
                <span class="p">]</span>
        <span class="n">matrices_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matrices</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">irr_rep</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>            
        <span class="n">r</span> <span class="o">=</span> <span class="n">representation</span><span class="p">(</span><span class="n">generators</span><span class="p">,</span> <span class="n">matrices_list</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">r</span>

    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrices_list</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_table</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>

        <span class="n">matrices_rep</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">view</span><span class="p">((</span><span class="n">irr_rep</span><span class="p">(</span><span class="n">k</span><span class="p">)(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">matrix</span><span class="p">(),</span> <span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">elements</span>
                    <span class="p">]</span>
        <span class="n">_table</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrices_rep</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">matrices_rep</span><span class="p">),</span> <span class="n">n</span><span class="p">)]</span>
        <span class="n">header_row</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">]</span>
        <span class="n">header_column</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s1">&#39;$r^&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="s1">&#39;$&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
        <span class="n">header_column</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="n">_table</span><span class="p">,</span>
                  <span class="n">header_row</span><span class="o">=</span><span class="n">header_row</span><span class="p">,</span>
                  <span class="n">header_column</span><span class="o">=</span><span class="n">header_column</span><span class="p">,</span>
                  <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">show</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">irr_rep</span>

    <span class="k">return</span> <span class="n">N</span><span class="p">,</span> <span class="n">irr_rep</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.isotypic_base" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isotypic_base</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="n">isotypic_components</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return a list with the basis for each isotypic components of rep or the basis change matrix associated to the isotypic decomposition.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>rep</code> -- representation ; a representation defined over the same group as self.</li>
<li><code>isotypic_components</code> -- a boolean (default: <code>False</code>) ; if False returns the change base matrix, if True returns a list with a base for each isotypic component :: </li>
</ul>
<p>OUTPUT: A list with a basis for each isotypic subspace of rep or the change basis matrix to a form in blocks associated to isotypic components of rep.</p>
<p>EXAMPLES:</p>
<p>We define the symmetric group of 3 simbols change basis matrix associated to the isotypic decomposition  ::</p>
<pre><code>sage: G = Group(SymmetricGroup(3));
sage: reg = G.regular_representation();
sage: G.isotypic_base(reg, isotypic_components=False)
[ 1| 1| 2 -1  0  0]
[ 1| 1|-1  2  0  0]
[ 1| 1|-1 -1  0  0]
[ 1|-1| 0  0  2 -1]
[ 1|-1| 0  0 -1  2]
[ 1|-1| 0  0 -1 -1]
</code></pre>
<p>The isotypic basis for each irreducible subspace associated to the regular representation of this group ::</p>
<pre><code>sage: G.isotypic_base(reg, isotypic_components=True)
[
[1]  [ 1]  [ 2 -1  0  0]
[1]  [ 1]  [-1  2  0  0]
[1]  [ 1]  [-1 -1  0  0]
[1]  [-1]  [ 0  0  2 -1]
[1]  [-1]  [ 0  0 -1  2]
[1], [-1], [ 0  0 -1 -1]
]
</code></pre>
<p>We define the representation by permutation on the cyclic group and calculate its isotypic decompositions ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: G.isotypic_base(rep, isotypic_components=True)
[
[1]  [ 1]  [   1]  [   1]
[1]  [-1]  [ 1*I]  [-1*I]
[1]  [ 1]  [  -1]  [  -1]
[1], [-1], [-1*I], [ 1*I]
]

sage: change_basis = G.isotypic_base(rep, isotypic_components=False); change_basis
[   1|   1|   1|   1]
[   1|  -1| 1*I|-1*I]
[   1|   1|  -1|  -1]
[   1|  -1|-1*I| 1*I]
sage: [rep(g).matrix() for g in G]
[
[1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]
[0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]
[0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]
[0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]
]
sage: [change_basis.inverse()*rep(g).matrix()*change_basis for g in G]
[
[1 0 0 0]  [   1    0    0    0]  [ 1  0  0  0]  [   1    0    0    0]
[0 1 0 0]  [   0   -1    0    0]  [ 0  1  0  0]  [   0   -1    0    0]
[0 0 1 0]  [   0    0  1*I    0]  [ 0  0 -1  0]  [   0    0 -1*I    0]
[0 0 0 1], [   0    0    0 -1*I], [ 0  0  0 -1], [   0    0    0  1*I]
]
</code></pre>
<p>We define a representation the group of symmetries of regular hexagon and calculate their matrix change basis(this representation is irreducible) ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];
sage: rep = representation(generators, matrices)
sage: G = rep.domain()
sage: G.isotypic_base(rep, isotypic_components=True)
[
[6 0]
[0 6]
]
</code></pre>
<p>TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES</p>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">isotypic_base</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rep</span><span class="p">,</span> <span class="n">isotypic_components</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list with the basis for each isotypic components of rep or the basis change matrix associated to the isotypic decomposition.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``rep`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">    - ``isotypic_components`` -- a boolean (default: `False`) ; if False returns the change base matrix, if True returns a list with a base for each isotypic component :: </span>

<span class="sd">    OUTPUT: A list with a basis for each isotypic subspace of rep or the change basis matrix to a form in blocks associated to isotypic components of rep.</span>


<span class="sd">    EXAMPLES:</span>

<span class="sd">    We define the symmetric group of 3 simbols change basis matrix associated to the isotypic decomposition  ::</span>

<span class="sd">        sage: G = Group(SymmetricGroup(3));</span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: G.isotypic_base(reg, isotypic_components=False)</span>
<span class="sd">        [ 1| 1| 2 -1  0  0]</span>
<span class="sd">        [ 1| 1|-1  2  0  0]</span>
<span class="sd">        [ 1| 1|-1 -1  0  0]</span>
<span class="sd">        [ 1|-1| 0  0  2 -1]</span>
<span class="sd">        [ 1|-1| 0  0 -1  2]</span>
<span class="sd">        [ 1|-1| 0  0 -1 -1]</span>


<span class="sd">    The isotypic basis for each irreducible subspace associated to the regular representation of this group ::</span>

<span class="sd">        sage: G.isotypic_base(reg, isotypic_components=True)</span>
<span class="sd">        [</span>
<span class="sd">        [1]  [ 1]  [ 2 -1  0  0]</span>
<span class="sd">        [1]  [ 1]  [-1  2  0  0]</span>
<span class="sd">        [1]  [ 1]  [-1 -1  0  0]</span>
<span class="sd">        [1]  [-1]  [ 0  0  2 -1]</span>
<span class="sd">        [1]  [-1]  [ 0  0 -1  2]</span>
<span class="sd">        [1], [-1], [ 0  0 -1 -1]</span>
<span class="sd">        ]</span>

<span class="sd">    We define the representation by permutation on the cyclic group and calculate its isotypic decompositions ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G.isotypic_base(rep, isotypic_components=True)</span>
<span class="sd">        [</span>
<span class="sd">        [1]  [ 1]  [   1]  [   1]</span>
<span class="sd">        [1]  [-1]  [ 1*I]  [-1*I]</span>
<span class="sd">        [1]  [ 1]  [  -1]  [  -1]</span>
<span class="sd">        [1], [-1], [-1*I], [ 1*I]</span>
<span class="sd">        ]</span>

<span class="sd">        sage: change_basis = G.isotypic_base(rep, isotypic_components=False); change_basis</span>
<span class="sd">        [   1|   1|   1|   1]</span>
<span class="sd">        [   1|  -1| 1*I|-1*I]</span>
<span class="sd">        [   1|   1|  -1|  -1]</span>
<span class="sd">        [   1|  -1|-1*I| 1*I]</span>
<span class="sd">        sage: [rep(g).matrix() for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0 0]  [0 1 0 0]  [0 0 1 0]  [0 0 0 1]</span>
<span class="sd">        [0 1 0 0]  [0 0 1 0]  [0 0 0 1]  [1 0 0 0]</span>
<span class="sd">        [0 0 1 0]  [0 0 0 1]  [1 0 0 0]  [0 1 0 0]</span>
<span class="sd">        [0 0 0 1], [1 0 0 0], [0 1 0 0], [0 0 1 0]</span>
<span class="sd">        ]</span>
<span class="sd">        sage: [change_basis.inverse()*rep(g).matrix()*change_basis for g in G]</span>
<span class="sd">        [</span>
<span class="sd">        [1 0 0 0]  [   1    0    0    0]  [ 1  0  0  0]  [   1    0    0    0]</span>
<span class="sd">        [0 1 0 0]  [   0   -1    0    0]  [ 0  1  0  0]  [   0   -1    0    0]</span>
<span class="sd">        [0 0 1 0]  [   0    0  1*I    0]  [ 0  0 -1  0]  [   0    0 -1*I    0]</span>
<span class="sd">        [0 0 0 1], [   0    0    0 -1*I], [ 0  0  0 -1], [   0    0    0  1*I]</span>
<span class="sd">        ]</span>

<span class="sd">    We define a representation the group of symmetries of regular hexagon and calculate their matrix change basis(this representation is irreducible) ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G = rep.domain()</span>
<span class="sd">        sage: G.isotypic_base(rep, isotypic_components=True)</span>
<span class="sd">        [</span>
<span class="sd">        [6 0]</span>
<span class="sd">        [0 6]</span>
<span class="sd">        ]</span>


<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>

<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">proj_lst</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">isotypic_projection</span><span class="p">(</span><span class="n">rep</span><span class="p">)</span>  <span class="c1">#NOTA:devemos usar sempre regular representation(pergunta)??? NAO</span>
    <span class="n">decomposition</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">matrix_from_columns</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">pivots</span><span class="p">())</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">proj_lst</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">isotypic_components</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">decomposition</span>
    <span class="n">ncols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">decomposition</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">block_matrix</span><span class="p">(</span><span class="n">decomposition</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.isotypic_projection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isotypic_projection</span><span class="p">(</span><span class="n">right</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return a list containing the matrices associated to projections operators over the isotypic components(or conglomerates) of right.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over the same group as self.</li>
</ul>
<p>OUTPUT: A list of matrices representing the projections operators over the isotypics subespaces of right.</p>
<p>EXAMPLES:</p>
<p>We define the symmetric group of 3 simbols and the isotypic projections associated to the regular representation of this group ::</p>
<pre><code>sage: G = Group(SymmetricGroup(3));
sage: reg = G.regular_representation();
sage: G.isotypic_projection(reg)
 [
 [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [ 2 -1 -1  0  0  0]
 [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1  2 -1  0  0  0]
 [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1 -1  2  0  0  0]
 [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0  2 -1 -1]
 [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0 -1  2 -1]
 [1 1 1 1 1 1], [-1 -1 -1  1  1  1], [ 0  0  0 -1 -1  2]
  ]
</code></pre>
<p>We calculate an irreducible representation of G, and the isotypic projection associated ::</p>
<pre><code>sage: n,irr = G.irreducible_representations(False) #Irreducible representations
sage: G.isotypic_projection(irr(2))
[
[3 0]
[0 3]
]
</code></pre>
<p>We define the representation by permutation on the cyclic group and calculate the isotypic projectors ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: G.isotypic_projection(rep)
[
[1 1 1 1]  [ 1 -1  1 -1]  [   1 -1*I   -1  1*I]  [   1  1*I   -1 -1*I]
[1 1 1 1]  [-1  1 -1  1]  [ 1*I    1 -1*I   -1]  [-1*I    1  1*I   -1]
[1 1 1 1]  [ 1 -1  1 -1]  [  -1  1*I    1 -1*I]  [  -1 -1*I    1  1*I]
[1 1 1 1], [-1  1 -1  1], [-1*I   -1  1*I    1], [ 1*I   -1 -1*I    1]
]
</code></pre>
<p>We define a representation the group of symmetries of regular hexagon and calculate their isotypic projectors ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: rotation_pi_over_3, reflexion_about_x = matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])
sage: matrices = [block_diagonal_matrix(rotation_pi_over_3, rotation_pi_over_3),block_diagonal_matrix(reflexion_about_x, reflexion_about_x)];
sage: rep = representation(generators, matrices, field=SR)
sage: G = rep.domain()
sage: G.isotypic_projection(rep)
[
[6 0 0 0]
[0 6 0 0]
[0 0 6 0]
[0 0 0 6]
]
</code></pre>
<p>TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES
TO ADD MORE EXAMPLES</p>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">isotypic_projection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list containing the matrices associated to projections operators over the isotypic components(or conglomerates) of right.</span>


<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over the same group as self.</span>

<span class="sd">    OUTPUT: A list of matrices representing the projections operators over the isotypics subespaces of right.</span>


<span class="sd">    EXAMPLES:</span>

<span class="sd">    We define the symmetric group of 3 simbols and the isotypic projections associated to the regular representation of this group ::</span>

<span class="sd">        sage: G = Group(SymmetricGroup(3));</span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: G.isotypic_projection(reg)</span>
<span class="sd">         [</span>
<span class="sd">         [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [ 2 -1 -1  0  0  0]</span>
<span class="sd">         [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1  2 -1  0  0  0]</span>
<span class="sd">         [1 1 1 1 1 1]  [ 1  1  1 -1 -1 -1]  [-1 -1  2  0  0  0]</span>
<span class="sd">         [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0  2 -1 -1]</span>
<span class="sd">         [1 1 1 1 1 1]  [-1 -1 -1  1  1  1]  [ 0  0  0 -1  2 -1]</span>
<span class="sd">         [1 1 1 1 1 1], [-1 -1 -1  1  1  1], [ 0  0  0 -1 -1  2]</span>
<span class="sd">          ]</span>

<span class="sd">    We calculate an irreducible representation of G, and the isotypic projection associated ::</span>

<span class="sd">        sage: n,irr = G.irreducible_representations(False) #Irreducible representations</span>
<span class="sd">        sage: G.isotypic_projection(irr(2))</span>
<span class="sd">        [</span>
<span class="sd">        [3 0]</span>
<span class="sd">        [0 3]</span>
<span class="sd">        ]</span>


<span class="sd">    We define the representation by permutation on the cyclic group and calculate the isotypic projectors ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G.isotypic_projection(rep)</span>
<span class="sd">        [</span>
<span class="sd">        [1 1 1 1]  [ 1 -1  1 -1]  [   1 -1*I   -1  1*I]  [   1  1*I   -1 -1*I]</span>
<span class="sd">        [1 1 1 1]  [-1  1 -1  1]  [ 1*I    1 -1*I   -1]  [-1*I    1  1*I   -1]</span>
<span class="sd">        [1 1 1 1]  [ 1 -1  1 -1]  [  -1  1*I    1 -1*I]  [  -1 -1*I    1  1*I]</span>
<span class="sd">        [1 1 1 1], [-1  1 -1  1], [-1*I   -1  1*I    1], [ 1*I   -1 -1*I    1]</span>
<span class="sd">        ]</span>


<span class="sd">    We define a representation the group of symmetries of regular hexagon and calculate their isotypic projectors ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: rotation_pi_over_3, reflexion_about_x = matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])</span>
<span class="sd">        sage: matrices = [block_diagonal_matrix(rotation_pi_over_3, rotation_pi_over_3),block_diagonal_matrix(reflexion_about_x, reflexion_about_x)];</span>
<span class="sd">        sage: rep = representation(generators, matrices, field=SR)</span>
<span class="sd">        sage: G = rep.domain()</span>
<span class="sd">        sage: G.isotypic_projection(rep)</span>
<span class="sd">        [</span>
<span class="sd">        [6 0 0 0]</span>
<span class="sd">        [0 6 0 0]</span>
<span class="sd">        [0 0 6 0]</span>
<span class="sd">        [0 0 0 6]</span>
<span class="sd">        ]</span>

<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>
<span class="sd">    TO ADD MORE EXAMPLES</span>

<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">proj_lst</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>
            <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">conjugate</span><span class="p">(</span><span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">character</span><span class="p">())</span><span class="o">*</span><span class="n">right</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>  <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>
            <span class="n">proj_lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">proj_lst</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.projection" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">projection</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the projection(or transfers operators) associated to irreducible subrepresentations of right.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over the same group as self.</li>
<li><code>i,j,k</code> --  integers ; integers numbers representing the projection(or transfer) chosen;
        i- will choose the irreducible representation, and its range is from 0 until the number of irreducibles. ::<pre><code>j- choose a row of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::

k- choose a column of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::
</code></pre>
</li>
</ul>


<details class="output" open>
  <summary>A matrix associated to the operator that projects over an irreducible subrepresentation of right(if j=k), or is a isomorphism between two equivalent subrepresentations of right.</summary>
  <p>Whenever the irreducible, chosen by index i, it is not a subrepresentation of right this matrix will be null.</p>
</details>        <p>EXAMPLES:</p>
<p>We define the representation by permutation on the cyclic group of four elements and calculate its projectors  ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: G.projection(0,0,0, rep)
[1 1 1 1]
[1 1 1 1]
[1 1 1 1]
[1 1 1 1]
sage: n, irr = G.irreducible_representations(False)
sage: list_of_projectors=[];
for i in range(n): # Choosing the irreducible
    degree= irr(i).degree() # Calculation the degree of the irreducible
    j=0;# we will use the first row
    for k in range(degree):
        projector = G.projection(i,j,k, rep);
        list_of_projectors.append(projector)
sage: list_of_projectors
[
[1 1 1 1]  [ 1 -1  1 -1]  [ 1 -I -1  I]  [ 1  I -1 -I]
[1 1 1 1]  [-1  1 -1  1]  [ I  1 -I -1]  [-I  1  I -1]
[1 1 1 1]  [ 1 -1  1 -1]  [-1  I  1 -I]  [-1 -I  1  I]
[1 1 1 1], [-1  1 -1  1], [-I -1  I  1], [ I -1 -I  1]
]
</code></pre>
<p>We define a representation on the group of symmetries of regular hexagon and calculate its projectors ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: matrices = [matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]]),matrix([[1,0,0],[0,-1,0],[0,0,1]])];
sage: rep = representation(generators, matrices)
sage: G = rep.domain()
sage: G.projection(0,0,0, rep)
[     12       0       0]
[      0       0 0.?e-18]
[      0 0.?e-18       0]
sage: n, irr = G.irreducible_representations(False)
sage: list_of_projectors=[];
for i in range(n): # Choosing the irreducible
    degree= irr(i).degree() # Calculation the degree of the irreducible
    j=0;# we will use the first row
    for k in range(degree):
        projector = G.projection(i,j,k, rep);
        list_of_projectors.append(view(projector, latex=False)) # view creates a better visualization
sage: list_of_projectors
[
[12  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]
[ 0  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]
[ 0  0  0], [0 0 0], [0 0 0], [0 0 0], [0 0 0], [0 0 0],

[   0    0    0]  [  0   0   0]
[   0    3  3*I]  [  0   3 3*I]
[   0 -3*I    3], [  0 3*I  -3]
]
</code></pre>
<p>We define the regular representation over the symmetric group of 3 simbols and we calculate one of its projectors ::</p>
<pre><code>sage: G = Group(SymmetricGroup(3)) 
sage: reg = G.regular_representation();
sage: view(G.projection(2,1,1, reg),latex=False) # The function view creates a better visualization
[                   1  1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    0                    0                    0]
[-1/2*I*sqrt(3) - 1/2                    1  1/2*I*sqrt(3) - 1/2                    0                    0                    0]
[ 1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    1                    0                    0                    0]
[                   0                    0                    0                    1 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2]
[                   0                    0                    0  1/2*I*sqrt(3) - 1/2                    1 -1/2*I*sqrt(3) - 1/2]
[                   0                    0                    0 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2                    1]
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">projection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the projection(or transfers operators) associated to irreducible subrepresentations of right.</span>

<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over the same group as self.</span>
<span class="sd">    - ``i,j,k`` --  integers ; integers numbers representing the projection(or transfer) chosen;</span>
<span class="sd">            i- will choose the irreducible representation, and its range is from 0 until the number of irreducibles. ::</span>

<span class="sd">            j- choose a row of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::</span>

<span class="sd">            k- choose a column of the matrix presentation of the irreducible, its range is the degree of chosen irreducible according i. ::</span>


<span class="sd">    OUTPUT: A matrix associated to the operator that projects over an irreducible subrepresentation of right(if j=k), or is a isomorphism between two equivalent subrepresentations of right.</span>
<span class="sd">            Whenever the irreducible, chosen by index i, it is not a subrepresentation of right this matrix will be null.</span>


<span class="sd">    EXAMPLES:</span>


<span class="sd">    We define the representation by permutation on the cyclic group of four elements and calculate its projectors  ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G.projection(0,0,0, rep)</span>
<span class="sd">        [1 1 1 1]</span>
<span class="sd">        [1 1 1 1]</span>
<span class="sd">        [1 1 1 1]</span>
<span class="sd">        [1 1 1 1]</span>
<span class="sd">        sage: n, irr = G.irreducible_representations(False)</span>
<span class="sd">        sage: list_of_projectors=[];</span>
<span class="sd">        for i in range(n): # Choosing the irreducible</span>
<span class="sd">            degree= irr(i).degree() # Calculation the degree of the irreducible</span>
<span class="sd">            j=0;# we will use the first row</span>
<span class="sd">            for k in range(degree):</span>
<span class="sd">                projector = G.projection(i,j,k, rep);</span>
<span class="sd">                list_of_projectors.append(projector)</span>
<span class="sd">        sage: list_of_projectors</span>
<span class="sd">        [</span>
<span class="sd">        [1 1 1 1]  [ 1 -1  1 -1]  [ 1 -I -1  I]  [ 1  I -1 -I]</span>
<span class="sd">        [1 1 1 1]  [-1  1 -1  1]  [ I  1 -I -1]  [-I  1  I -1]</span>
<span class="sd">        [1 1 1 1]  [ 1 -1  1 -1]  [-1  I  1 -I]  [-1 -I  1  I]</span>
<span class="sd">        [1 1 1 1], [-1  1 -1  1], [-I -1  I  1], [ I -1 -I  1]</span>
<span class="sd">        ]</span>


<span class="sd">    We define a representation on the group of symmetries of regular hexagon and calculate its projectors ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: matrices = [matrix([[1,0,0],[0,1/2,-sqrt(3)/2],[0,sqrt(3)/2,1/2]]),matrix([[1,0,0],[0,-1,0],[0,0,1]])];</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G = rep.domain()</span>
<span class="sd">        sage: G.projection(0,0,0, rep)</span>
<span class="sd">        [     12       0       0]</span>
<span class="sd">        [      0       0 0.?e-18]</span>
<span class="sd">        [      0 0.?e-18       0]</span>
<span class="sd">        sage: n, irr = G.irreducible_representations(False)</span>
<span class="sd">        sage: list_of_projectors=[];</span>
<span class="sd">        for i in range(n): # Choosing the irreducible</span>
<span class="sd">            degree= irr(i).degree() # Calculation the degree of the irreducible</span>
<span class="sd">            j=0;# we will use the first row</span>
<span class="sd">            for k in range(degree):</span>
<span class="sd">                projector = G.projection(i,j,k, rep);</span>
<span class="sd">                list_of_projectors.append(view(projector, latex=False)) # view creates a better visualization</span>
<span class="sd">        sage: list_of_projectors</span>
<span class="sd">        [</span>
<span class="sd">        [12  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]</span>
<span class="sd">        [ 0  0  0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]  [0 0 0]</span>
<span class="sd">        [ 0  0  0], [0 0 0], [0 0 0], [0 0 0], [0 0 0], [0 0 0],</span>

<span class="sd">        [   0    0    0]  [  0   0   0]</span>
<span class="sd">        [   0    3  3*I]  [  0   3 3*I]</span>
<span class="sd">        [   0 -3*I    3], [  0 3*I  -3]</span>
<span class="sd">        ]</span>


<span class="sd">    We define the regular representation over the symmetric group of 3 simbols and we calculate one of its projectors ::</span>

<span class="sd">        sage: G = Group(SymmetricGroup(3)) </span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: view(G.projection(2,1,1, reg),latex=False) # The function view creates a better visualization</span>
<span class="sd">        [                   1  1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    0                    0                    0]</span>
<span class="sd">        [-1/2*I*sqrt(3) - 1/2                    1  1/2*I*sqrt(3) - 1/2                    0                    0                    0]</span>
<span class="sd">        [ 1/2*I*sqrt(3) - 1/2 -1/2*I*sqrt(3) - 1/2                    1                    0                    0                    0]</span>
<span class="sd">        [                   0                    0                    0                    1 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2]</span>
<span class="sd">        [                   0                    0                    0  1/2*I*sqrt(3) - 1/2                    1 -1/2*I*sqrt(3) - 1/2]</span>
<span class="sd">        [                   0                    0                    0 -1/2*I*sqrt(3) - 1/2  1/2*I*sqrt(3) - 1/2                    1]</span>

<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>


    <span class="c1">#Nota:   ver como melhorar a posição do left</span>
    <span class="c1">#Nota: right pode inclusive ser a irredutivel (pergunta)</span>
    <span class="c1">###Melhorar este nome opcoes: transfer isomorphism </span>
    <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">matrix</span><span class="p">(</span><span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">g</span><span class="o">.</span><span class="n">inverse</span><span class="p">()))[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">matrix</span><span class="p">(</span><span class="n">right</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">])</span>  <span class="c1">#Nota:</span>
    <span class="k">return</span> <span class="n">s</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.quick_block_prevision" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">quick_block_prevision</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return a list with order and multiplicities of blocks to an equivariant operator under right defined on self.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
<li><code>right</code> -- representation ; a representation defined over an arbitrary group given by self.</li>
<li><code>block_prevision</code> -- a boolean (default: <code>False</code>) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</li>
</ul>
<p>OUTPUT: A list indicating the degree and multiplicity of the representation defined by right. </p>
<p>EXAMPLES:</p>
<p>We define the regular representation(reg) over the symmetric group of 4 simbols and calculate the structure of an equivariant operator under reg ::</p>
<pre><code>sage: H = SymmetricGroup(4)
sage: G = Group(H);
sage: reg = G.regular_representation();
sage: G.quick_block_prevision(reg)
[['degree', 'multiplicity'], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]

sage: G.quick_block_prevision(reg, block_prevision=True)
1 block size 1x1
1 block size 1x1
2 block size 2x2
3 block size 3x3
3 block size 3x3
[['degree', 'multiplicity'], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]
</code></pre>
<p>We define the representation by permutation on the cyclic group and calculate the structure of an equivariant operator ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4))
sage: generators = G.gens()
sage: matrices = [g.matrix() for g in generators]
sage: rep = representation(generators, matrices)
sage: G.quick_block_prevision(rep, block_prevision=True)
1 block size 1x1
1 block size 1x1
1 block size 1x1
1 block size 1x1
[['degree', 'multiplicity'], [1, 1], [1, 1], [1, 1], [1, 1]]
</code></pre>
<p>We calculate the irreducible representations of the group of symmetries of tetrahedron and calculate the structure of an equivariant operator inder its irreducibles ::</p>
<pre><code>sage: G = Group(AlternatingGroup(4));
sage: n,irr = G.irreducible_representations(False) ##Irreducible representations
sage: for j in range(n):
        print(G.quick_block_prevision(irr(j),block_prevision=True))
1 block size 1x1
[['degree', 'multiplicity'], [1, 1]]
1 block size 1x1
[['degree', 'multiplicity'], [1, 1]]
1 block size 1x1
[['degree', 'multiplicity'], [1, 1]]
3 block size 1x1
[['degree', 'multiplicity'], [3, 1]]
</code></pre>
<p>We define two representation rep and rep1 on the group of symmetries of regular hexagon and calculate the structure of an equivariant operator under each one ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];
sage: rep = representation(generators, matrices)
sage: G = rep.domain()
sage: G.quick_block_prevision(rep,block_prevision=True)
2 block size 1x1
[['degree', 'multiplicity'], [2, 1]]

sage: P = matrix([[2,1],[15,2]]); #A change of basis
sage: matrices1 = [ block_diagonal_matrix((P.inverse())*A*P, (P.inverse())*A*P) for A in matrices];
sage: rep1 = representation(generators, matrices1)
sage: G.quick_block_prevision(rep1,block_prevision=True)
2 block size 2x2
[['degree', 'multiplicity'], [2, 2]]
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">quick_block_prevision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">block_prevision</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span><span class="c1">##Nota, consertar row ##Revisar a documentacao do True or False</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list with order and multiplicities of blocks to an equivariant operator under right defined on self.</span>

<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>
<span class="sd">    - ``right`` -- representation ; a representation defined over an arbitrary group given by self.</span>
<span class="sd">    - ``block_prevision`` -- a boolean (default: `False`) ; if set to True then prints a string describing the number and orders of blocks to an equivariant operator under right.</span>

<span class="sd">    OUTPUT: A list indicating the degree and multiplicity of the representation defined by right. </span>


<span class="sd">    EXAMPLES:</span>

<span class="sd">    We define the regular representation(reg) over the symmetric group of 4 simbols and calculate the structure of an equivariant operator under reg ::</span>

<span class="sd">        sage: H = SymmetricGroup(4)</span>
<span class="sd">        sage: G = Group(H);</span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: G.quick_block_prevision(reg)</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]</span>

<span class="sd">        sage: G.quick_block_prevision(reg, block_prevision=True)</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        2 block size 2x2</span>
<span class="sd">        3 block size 3x3</span>
<span class="sd">        3 block size 3x3</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [2, 2], [3, 3], [3, 3]]</span>

<span class="sd">    We define the representation by permutation on the cyclic group and calculate the structure of an equivariant operator ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4))</span>
<span class="sd">        sage: generators = G.gens()</span>
<span class="sd">        sage: matrices = [g.matrix() for g in generators]</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G.quick_block_prevision(rep, block_prevision=True)</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1], [1, 1], [1, 1], [1, 1]]</span>

<span class="sd">    We calculate the irreducible representations of the group of symmetries of tetrahedron and calculate the structure of an equivariant operator inder its irreducibles ::</span>

<span class="sd">        sage: G = Group(AlternatingGroup(4));</span>
<span class="sd">        sage: n,irr = G.irreducible_representations(False) ##Irreducible representations</span>
<span class="sd">        sage: for j in range(n):</span>
<span class="sd">                print(G.quick_block_prevision(irr(j),block_prevision=True))</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">        1 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [1, 1]]</span>
<span class="sd">        3 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [3, 1]]</span>



<span class="sd">    We define two representation rep and rep1 on the group of symmetries of regular hexagon and calculate the structure of an equivariant operator under each one ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: matrices = [matrix([[1/2,-sqrt(3)/2],[sqrt(3)/2,1/2]]),matrix([[-1,0],[0,1]])];</span>
<span class="sd">        sage: rep = representation(generators, matrices)</span>
<span class="sd">        sage: G = rep.domain()</span>
<span class="sd">        sage: G.quick_block_prevision(rep,block_prevision=True)</span>
<span class="sd">        2 block size 1x1</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [2, 1]]</span>

<span class="sd">        sage: P = matrix([[2,1],[15,2]]); #A change of basis</span>
<span class="sd">        sage: matrices1 = [ block_diagonal_matrix((P.inverse())*A*P, (P.inverse())*A*P) for A in matrices];</span>
<span class="sd">        sage: rep1 = representation(generators, matrices1)</span>
<span class="sd">        sage: G.quick_block_prevision(rep1,block_prevision=True)</span>
<span class="sd">        2 block size 2x2</span>
<span class="sd">        [[&#39;degree&#39;, &#39;multiplicity&#39;], [2, 2]]</span>


<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>        
    <span class="n">n</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">irreducible_representations</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> 

    <span class="n">info</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="s1">&#39;multiplicity&#39;</span><span class="p">]]</span>        
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    	<span class="n">multiplicity</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
    	<span class="k">try</span><span class="p">:</span>
    		<span class="n">multiplicity</span> <span class="o">=</span> <span class="n">multiplicity</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
    	<span class="k">except</span><span class="p">:</span> <span class="ne">AttributeError</span>
    	<span class="k">if</span> <span class="n">multiplicity</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">zero</span><span class="p">():</span>
    		<span class="n">degree</span> <span class="o">=</span> <span class="n">left</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
    		<span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">degree</span><span class="p">,</span> <span class="n">multiplicity</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">block_prevision</span><span class="p">:</span>
    	<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    		<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39; block size &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;x&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">info</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysymmetry.Group.regular_representation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">regular_representation</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the regular representation defined over the group.</p>
<p>INPUT:</p>
<ul>
<li><code>self</code> -- Group ; a  Sage permutation group or a group of the class Group.</li>
</ul>
<p>OUTPUT: The regular representation defined over the Group given by self. </p>
<p>EXAMPLES:</p>
<p>We define the regular representation over the cyclic group of 4 elements ::</p>
<pre><code>sage: G = Group(CyclicPermutationGroup(4)) 
sage: reg = G.regular_representation()
sage: [reg(g) for g in G]
[Linear transformation associated with element g=(), represented by the non-singular matrix:
 [1 0 0 0]
 [0 1 0 0]
 [0 0 1 0]
 [0 0 0 1]
 Representation space: Vector space of dimension 4 over Algebraic Field
 ,
 Linear transformation associated with element g=(1,2,3,4), represented by the non-singular matrix:
 [0 0 0 1]
 [1 0 0 0]
 [0 1 0 0]
 [0 0 1 0]
 Representation space: Vector space of dimension 4 over Algebraic Field
 ,
 Linear transformation associated with element g=(1,3)(2,4), represented by the non-singular matrix:
 [0 0 1 0]
 [0 0 0 1]
 [1 0 0 0]
 [0 1 0 0]
 Representation space: Vector space of dimension 4 over Algebraic Field
 ,
 Linear transformation associated with element g=(1,4,3,2), represented by the non-singular matrix:
 [0 1 0 0]
 [0 0 1 0]
 [0 0 0 1]
 [1 0 0 0]
 Representation space: Vector space of dimension 4 over Algebraic Field
 ]
</code></pre>
<p>We define the group of symmetries of regular hexagon and the regular representation over this group ::</p>
<pre><code>sage: generators = ["(1,2,3,4,5,6)","(1,4)(2,3)(5,6)"]
sage: G = Group(generators)
sage: reg = G.regular_representation()
sage: g = G.an_element()
sage: reg(g)
Linear transformation associated with element g=(1,3)(4,6), represented by the non-singular matrix:
[0 0 0 0 0 0 0 0 1 0 0 0]
[0 0 0 0 0 0 1 0 0 0 0 0]
[0 0 0 0 0 0 0 1 0 0 0 0]
[0 0 0 0 0 0 0 0 0 0 0 1]
[0 0 0 0 0 0 0 0 0 1 0 0]
[0 0 0 0 0 0 0 0 0 0 1 0]
[0 1 0 0 0 0 0 0 0 0 0 0]
[0 0 1 0 0 0 0 0 0 0 0 0]
[1 0 0 0 0 0 0 0 0 0 0 0]
[0 0 0 0 1 0 0 0 0 0 0 0]
[0 0 0 0 0 1 0 0 0 0 0 0]
[0 0 0 1 0 0 0 0 0 0 0 0]
Representation space: Vector space of dimension 12 over Algebraic Field
</code></pre>
<p>We define the regular representation over the symmetric group of 4 simbols ::</p>
<pre><code>sage: H = SymmetricGroup(4)
sage: G = Group(H);
sage: reg = G.regular_representation();
sage: g = G.an_element()
sage: reg(g)
Linear transformation associated with element g=(1,3,4), represented by the non-singular matrix:
24 x 24 dense matrix over Algebraic Field
Representation space: Vector space of dimension 24 over Algebraic Field
</code></pre>
<p>REFERENCES:</p>
<p>For more information, see the following references:</p>
<ul>
<li>
<p>[Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</p>
</li>
<li>
<p>[Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.</p>
</li>
</ul>


            <details class="quote">
              <summary>Source code in <code>pysymmetry/pysymmetry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">regular_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the regular representation defined over the group.</span>

<span class="sd">    INPUT:</span>

<span class="sd">    - ``self`` -- Group ; a  Sage permutation group or a group of the class Group.</span>

<span class="sd">    OUTPUT: The regular representation defined over the Group given by self. </span>


<span class="sd">    EXAMPLES:</span>

<span class="sd">    We define the regular representation over the cyclic group of 4 elements ::</span>

<span class="sd">        sage: G = Group(CyclicPermutationGroup(4)) </span>
<span class="sd">        sage: reg = G.regular_representation()</span>
<span class="sd">        sage: [reg(g) for g in G]</span>
<span class="sd">        [Linear transformation associated with element g=(), represented by the non-singular matrix:</span>
<span class="sd">         [1 0 0 0]</span>
<span class="sd">         [0 1 0 0]</span>
<span class="sd">         [0 0 1 0]</span>
<span class="sd">         [0 0 0 1]</span>
<span class="sd">         Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">         ,</span>
<span class="sd">         Linear transformation associated with element g=(1,2,3,4), represented by the non-singular matrix:</span>
<span class="sd">         [0 0 0 1]</span>
<span class="sd">         [1 0 0 0]</span>
<span class="sd">         [0 1 0 0]</span>
<span class="sd">         [0 0 1 0]</span>
<span class="sd">         Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">         ,</span>
<span class="sd">         Linear transformation associated with element g=(1,3)(2,4), represented by the non-singular matrix:</span>
<span class="sd">         [0 0 1 0]</span>
<span class="sd">         [0 0 0 1]</span>
<span class="sd">         [1 0 0 0]</span>
<span class="sd">         [0 1 0 0]</span>
<span class="sd">         Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">         ,</span>
<span class="sd">         Linear transformation associated with element g=(1,4,3,2), represented by the non-singular matrix:</span>
<span class="sd">         [0 1 0 0]</span>
<span class="sd">         [0 0 1 0]</span>
<span class="sd">         [0 0 0 1]</span>
<span class="sd">         [1 0 0 0]</span>
<span class="sd">         Representation space: Vector space of dimension 4 over Algebraic Field</span>
<span class="sd">         ]</span>

<span class="sd">    We define the group of symmetries of regular hexagon and the regular representation over this group ::</span>

<span class="sd">        sage: generators = [&quot;(1,2,3,4,5,6)&quot;,&quot;(1,4)(2,3)(5,6)&quot;]</span>
<span class="sd">        sage: G = Group(generators)</span>
<span class="sd">        sage: reg = G.regular_representation()</span>
<span class="sd">        sage: g = G.an_element()</span>
<span class="sd">        sage: reg(g)</span>
<span class="sd">        Linear transformation associated with element g=(1,3)(4,6), represented by the non-singular matrix:</span>
<span class="sd">        [0 0 0 0 0 0 0 0 1 0 0 0]</span>
<span class="sd">        [0 0 0 0 0 0 1 0 0 0 0 0]</span>
<span class="sd">        [0 0 0 0 0 0 0 1 0 0 0 0]</span>
<span class="sd">        [0 0 0 0 0 0 0 0 0 0 0 1]</span>
<span class="sd">        [0 0 0 0 0 0 0 0 0 1 0 0]</span>
<span class="sd">        [0 0 0 0 0 0 0 0 0 0 1 0]</span>
<span class="sd">        [0 1 0 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">        [0 0 1 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">        [1 0 0 0 0 0 0 0 0 0 0 0]</span>
<span class="sd">        [0 0 0 0 1 0 0 0 0 0 0 0]</span>
<span class="sd">        [0 0 0 0 0 1 0 0 0 0 0 0]</span>
<span class="sd">        [0 0 0 1 0 0 0 0 0 0 0 0]</span>
<span class="sd">        Representation space: Vector space of dimension 12 over Algebraic Field</span>

<span class="sd">    We define the regular representation over the symmetric group of 4 simbols ::</span>

<span class="sd">        sage: H = SymmetricGroup(4)</span>
<span class="sd">        sage: G = Group(H);</span>
<span class="sd">        sage: reg = G.regular_representation();</span>
<span class="sd">        sage: g = G.an_element()</span>
<span class="sd">        sage: reg(g)</span>
<span class="sd">        Linear transformation associated with element g=(1,3,4), represented by the non-singular matrix:</span>
<span class="sd">        24 x 24 dense matrix over Algebraic Field</span>
<span class="sd">        Representation space: Vector space of dimension 24 over Algebraic Field</span>


<span class="sd">    REFERENCES:</span>

<span class="sd">    For more information, see the following references:</span>

<span class="sd">    - [Ser1977]_Serre, Jean-Pierre. Linear representations of finite groups. Vol. 42. New York: springer, 1977.</span>

<span class="sd">    - [Sti2012]_Stiefel, E., and A. Fässler. Group theoretical methods and their applications. Springer Science &amp; Business Media, 2012.     </span>

<span class="sd">    &quot;&quot;&quot;</span>                


    <span class="c1"># usei metodos do orderpy pra deixar os calculos mais rapidos</span>
    <span class="c1">#NOTA: precisa verificar se g esta em Group</span>
    <span class="n">matrices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_regular_</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gens</span><span class="p">()]</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">MatrixGroup</span><span class="p">(</span><span class="n">matrices</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">MapRepresentation</span><span class="p">(</span><span class="n">Hom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">M</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_regular_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><!-- ## Módulo `pde`

::: pysymmetry.pde.nGroup -->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>